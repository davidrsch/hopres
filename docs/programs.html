<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>10 Programas | Programación práctica con R</title>
  <meta name="description" content="Este libro le enseñará cómo programar en R, con ejemplos prácticos. Lo escribí para personas que no son programadores para proporcionar una introducción amigable al lenguaje R. Aprenderá a cargar datos, ensamblar y desensamblar objetos de datos, navegar por el sistema de entorno de R, escribir sus propias funciones y utilizar todas las herramientas de programación de R. A lo largo del libro, utilizará sus nuevas habilidades para resolver problemas prácticos de ciencia de datos." />
  <meta name="generator" content="bookdown 0.31 and GitBook 2.6.7" />

  <meta property="og:title" content="10 Programas | Programación práctica con R" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="https://github.com/davidrsch/hopres/cover.png" />
  <meta property="og:description" content="Este libro le enseñará cómo programar en R, con ejemplos prácticos. Lo escribí para personas que no son programadores para proporcionar una introducción amigable al lenguaje R. Aprenderá a cargar datos, ensamblar y desensamblar objetos de datos, navegar por el sistema de entorno de R, escribir sus propias funciones y utilizar todas las herramientas de programación de R. A lo largo del libro, utilizará sus nuevas habilidades para resolver problemas prácticos de ciencia de datos." />
  <meta name="github-repo" content="davidrsch/hopres" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="10 Programas | Programación práctica con R" />
  
  <meta name="twitter:description" content="Este libro le enseñará cómo programar en R, con ejemplos prácticos. Lo escribí para personas que no son programadores para proporcionar una introducción amigable al lenguaje R. Aprenderá a cargar datos, ensamblar y desensamblar objetos de datos, navegar por el sistema de entorno de R, escribir sus propias funciones y utilizar todas las herramientas de programación de R. A lo largo del libro, utilizará sus nuevas habilidades para resolver problemas prácticos de ciencia de datos." />
  <meta name="twitter:image" content="https://github.com/davidrsch/hopres/cover.png" />

<meta name="author" content="Garrett Grolemund" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="slots.html"/>
<link rel="next" href="s3.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="hopr.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="./">Programación práctica con R</a></strong></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Bienvenido</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#sobre-la-traducción"><i class="fa fa-check"></i>Sobre la traducción</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#sobre-la-versión-original-en-inglés"><i class="fa fa-check"></i>Sobre la versión original en inglés</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="prefacio.html"><a href="prefacio.html"><i class="fa fa-check"></i>Prefacio</a>
<ul>
<li class="chapter" data-level="" data-path="prefacio.html"><a href="prefacio.html#convenciones-usadas-en-este-libro"><i class="fa fa-check"></i>Convenciones Usadas en Este Libro</a></li>
<li class="chapter" data-level="" data-path="prefacio.html"><a href="prefacio.html#reconocimientos"><i class="fa fa-check"></i>Reconocimientos</a></li>
</ul></li>
<li class="part"><span><b>I Parte 1</b></span></li>
<li class="chapter" data-level="1" data-path="dice.html"><a href="dice.html"><i class="fa fa-check"></i><b>1</b> Proyecto 1: Dados Ponderados</a></li>
<li class="chapter" data-level="2" data-path="Básico.html"><a href="Básico.html"><i class="fa fa-check"></i><b>2</b> Lo Más Básico</a>
<ul>
<li class="chapter" data-level="2.1" data-path="Básico.html"><a href="Básico.html#la-interfaz-de-usuario-de-r"><i class="fa fa-check"></i><b>2.1</b> La Interfaz de Usuario de R</a></li>
<li class="chapter" data-level="2.2" data-path="Básico.html"><a href="Básico.html#objetos"><i class="fa fa-check"></i><b>2.2</b> Objetos</a></li>
<li class="chapter" data-level="2.3" data-path="Básico.html"><a href="Básico.html#funciones"><i class="fa fa-check"></i><b>2.3</b> Funciones</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="Básico.html"><a href="Básico.html#muestra-con-reemplazo"><i class="fa fa-check"></i><b>2.3.1</b> Muestra con reemplazo</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="Básico.html"><a href="Básico.html#Escribir-funciones"><i class="fa fa-check"></i><b>2.4</b> Escribiendo Sus Propias Funciones</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="Básico.html"><a href="Básico.html#el-constructor-de-funciones"><i class="fa fa-check"></i><b>2.4.1</b> El Constructor de Funciones</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="Básico.html"><a href="Básico.html#argumentos"><i class="fa fa-check"></i><b>2.5</b> Argumentos</a></li>
<li class="chapter" data-level="2.6" data-path="Básico.html"><a href="Básico.html#scripts"><i class="fa fa-check"></i><b>2.6</b> Scripts</a></li>
<li class="chapter" data-level="2.7" data-path="Básico.html"><a href="Básico.html#resumen"><i class="fa fa-check"></i><b>2.7</b> Resumen</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="packages.html"><a href="packages.html"><i class="fa fa-check"></i><b>3</b> Paquetes y páginas de ayuda</a>
<ul>
<li class="chapter" data-level="3.1" data-path="packages.html"><a href="packages.html#paquetes"><i class="fa fa-check"></i><b>3.1</b> Paquetes</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="packages.html"><a href="packages.html#install.packages"><i class="fa fa-check"></i><b>3.1.1</b> install.packages</a></li>
<li class="chapter" data-level="3.1.2" data-path="packages.html"><a href="packages.html#library"><i class="fa fa-check"></i><b>3.1.2</b> library</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="packages.html"><a href="packages.html#obteniendo-ayuda-con-las-páginas-de-ayuda"><i class="fa fa-check"></i><b>3.2</b> Obteniendo Ayuda con las Páginas de Ayuda</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="packages.html"><a href="packages.html#partes-de-una-página-de-ayuda"><i class="fa fa-check"></i><b>3.2.1</b> Partes de una Página de Ayuda</a></li>
<li class="chapter" data-level="3.2.2" data-path="packages.html"><a href="packages.html#obteniendo-más-ayuda"><i class="fa fa-check"></i><b>3.2.2</b> Obteniendo Más Ayuda</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="packages.html"><a href="packages.html#resumen-1"><i class="fa fa-check"></i><b>3.3</b> Resumen</a></li>
<li class="chapter" data-level="3.4" data-path="packages.html"><a href="packages.html#resumen-del-proyecto-1"><i class="fa fa-check"></i><b>3.4</b> Resumen del Proyecto 1</a></li>
</ul></li>
<li class="part"><span><b>II Parte 2</b></span></li>
<li class="chapter" data-level="4" data-path="cards.html"><a href="cards.html"><i class="fa fa-check"></i><b>4</b> Proyecto 2: Baraja de Cartas</a></li>
<li class="chapter" data-level="5" data-path="objects.html"><a href="objects.html"><i class="fa fa-check"></i><b>5</b> Objectos de R</a>
<ul>
<li class="chapter" data-level="5.1" data-path="objects.html"><a href="objects.html#vectores-atómicos"><i class="fa fa-check"></i><b>5.1</b> Vectores Atómicos</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="objects.html"><a href="objects.html#dobles"><i class="fa fa-check"></i><b>5.1.1</b> Dobles</a></li>
<li class="chapter" data-level="5.1.2" data-path="objects.html"><a href="objects.html#enteros"><i class="fa fa-check"></i><b>5.1.2</b> Enteros</a></li>
<li class="chapter" data-level="5.1.3" data-path="objects.html"><a href="objects.html#caracteres"><i class="fa fa-check"></i><b>5.1.3</b> Caracteres</a></li>
<li class="chapter" data-level="5.1.4" data-path="objects.html"><a href="objects.html#lógicos"><i class="fa fa-check"></i><b>5.1.4</b> Lógicos</a></li>
<li class="chapter" data-level="5.1.5" data-path="objects.html"><a href="objects.html#complejo-y-sin-procesar"><i class="fa fa-check"></i><b>5.1.5</b> Complejo y Sin Procesar</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="objects.html"><a href="objects.html#attributes"><i class="fa fa-check"></i><b>5.2</b> Atributos</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="objects.html"><a href="objects.html#names"><i class="fa fa-check"></i><b>5.2.1</b> Nombres</a></li>
<li class="chapter" data-level="5.2.2" data-path="objects.html"><a href="objects.html#dimensiones"><i class="fa fa-check"></i><b>5.2.2</b> Dimensiones</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="objects.html"><a href="objects.html#matrices"><i class="fa fa-check"></i><b>5.3</b> Matrices</a></li>
<li class="chapter" data-level="5.4" data-path="objects.html"><a href="objects.html#arreglos"><i class="fa fa-check"></i><b>5.4</b> Arreglos</a></li>
<li class="chapter" data-level="5.5" data-path="objects.html"><a href="objects.html#clases"><i class="fa fa-check"></i><b>5.5</b> Clases</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="objects.html"><a href="objects.html#fechas-y-horarios"><i class="fa fa-check"></i><b>5.5.1</b> Fechas y Horarios</a></li>
<li class="chapter" data-level="5.5.2" data-path="objects.html"><a href="objects.html#factores"><i class="fa fa-check"></i><b>5.5.2</b> Factores</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="objects.html"><a href="objects.html#coerción"><i class="fa fa-check"></i><b>5.6</b> Coerción</a></li>
<li class="chapter" data-level="5.7" data-path="objects.html"><a href="objects.html#listas"><i class="fa fa-check"></i><b>5.7</b> Listas</a></li>
<li class="chapter" data-level="5.8" data-path="objects.html"><a href="objects.html#data-frames"><i class="fa fa-check"></i><b>5.8</b> Data Frames</a></li>
<li class="chapter" data-level="5.9" data-path="objects.html"><a href="objects.html#loading"><i class="fa fa-check"></i><b>5.9</b> Cargar Datos</a></li>
<li class="chapter" data-level="5.10" data-path="objects.html"><a href="objects.html#guardar-datos"><i class="fa fa-check"></i><b>5.10</b> Guardar Datos</a></li>
<li class="chapter" data-level="5.11" data-path="objects.html"><a href="objects.html#resumen-2"><i class="fa fa-check"></i><b>5.11</b> Resumen</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="notation.html"><a href="notation.html"><i class="fa fa-check"></i><b>6</b> Notación de R</a>
<ul>
<li class="chapter" data-level="6.1" data-path="notation.html"><a href="notation.html#selección-de-valores"><i class="fa fa-check"></i><b>6.1</b> Selección de Valores</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="notation.html"><a href="notation.html#números-enteros-positivos"><i class="fa fa-check"></i><b>6.1.1</b> Números Enteros Positivos</a></li>
<li class="chapter" data-level="6.1.2" data-path="notation.html"><a href="notation.html#números-enteros-negativos"><i class="fa fa-check"></i><b>6.1.2</b> Números Enteros Negativos</a></li>
<li class="chapter" data-level="6.1.3" data-path="notation.html"><a href="notation.html#cero"><i class="fa fa-check"></i><b>6.1.3</b> Cero</a></li>
<li class="chapter" data-level="6.1.4" data-path="notation.html"><a href="notation.html#espacios-en-blanco"><i class="fa fa-check"></i><b>6.1.4</b> Espacios en Blanco</a></li>
<li class="chapter" data-level="6.1.5" data-path="notation.html"><a href="notation.html#logic"><i class="fa fa-check"></i><b>6.1.5</b> Valores Lógicos</a></li>
<li class="chapter" data-level="6.1.6" data-path="notation.html"><a href="notation.html#nombres"><i class="fa fa-check"></i><b>6.1.6</b> Nombres</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="notation.html"><a href="notation.html#repartir-una-carta"><i class="fa fa-check"></i><b>6.2</b> Repartir una Carta</a></li>
<li class="chapter" data-level="6.3" data-path="notation.html"><a href="notation.html#barajar-el-mazo"><i class="fa fa-check"></i><b>6.3</b> Barajar el Mazo</a></li>
<li class="chapter" data-level="6.4" data-path="notation.html"><a href="notation.html#signos-de-dólar-y-corchetes-dobles"><i class="fa fa-check"></i><b>6.4</b> Signos de Dólar y Corchetes Dobles</a></li>
<li class="chapter" data-level="6.5" data-path="notation.html"><a href="notation.html#resumen-3"><i class="fa fa-check"></i><b>6.5</b> Resumen</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="modify.html"><a href="modify.html"><i class="fa fa-check"></i><b>7</b> Modificación de Valores</a>
<ul>
<li class="chapter" data-level="7.0.1" data-path="modify.html"><a href="modify.html#cambio-de-valores-en-el-lugar"><i class="fa fa-check"></i><b>7.0.1</b> Cambio de Valores en el Lugar</a></li>
<li class="chapter" data-level="7.0.2" data-path="modify.html"><a href="modify.html#subconjunto-lógico"><i class="fa fa-check"></i><b>7.0.2</b> Subconjunto Lógico</a></li>
<li class="chapter" data-level="7.0.3" data-path="modify.html"><a href="modify.html#missing"><i class="fa fa-check"></i><b>7.0.3</b> Información Faltante</a></li>
<li class="chapter" data-level="7.0.4" data-path="modify.html"><a href="modify.html#resumen-4"><i class="fa fa-check"></i><b>7.0.4</b> Resumen</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="environment.html"><a href="environment.html"><i class="fa fa-check"></i><b>8</b> Entornos</a>
<ul>
<li class="chapter" data-level="8.1" data-path="environment.html"><a href="environment.html#entornos"><i class="fa fa-check"></i><b>8.1</b> Entornos</a></li>
<li class="chapter" data-level="8.2" data-path="environment.html"><a href="environment.html#trabajar-con-entornos"><i class="fa fa-check"></i><b>8.2</b> Trabajar con Entornos</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="environment.html"><a href="environment.html#el-entorno-activo"><i class="fa fa-check"></i><b>8.2.1</b> El Entorno Activo</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="environment.html"><a href="environment.html#reglas-de-alcance"><i class="fa fa-check"></i><b>8.3</b> Reglas de Alcance</a></li>
<li class="chapter" data-level="8.4" data-path="environment.html"><a href="environment.html#asignación"><i class="fa fa-check"></i><b>8.4</b> Asignación</a></li>
<li class="chapter" data-level="8.5" data-path="environment.html"><a href="environment.html#evaluación"><i class="fa fa-check"></i><b>8.5</b> Evaluación</a></li>
<li class="chapter" data-level="8.6" data-path="environment.html"><a href="environment.html#cierres"><i class="fa fa-check"></i><b>8.6</b> Cierres</a></li>
<li class="chapter" data-level="8.7" data-path="environment.html"><a href="environment.html#resumen-5"><i class="fa fa-check"></i><b>8.7</b> Resumen</a></li>
<li class="chapter" data-level="8.8" data-path="environment.html"><a href="environment.html#resumen-del-proyecto-2"><i class="fa fa-check"></i><b>8.8</b> Resumen del Proyecto 2</a></li>
</ul></li>
<li class="part"><span><b>III Parte 3</b></span></li>
<li class="chapter" data-level="9" data-path="slots.html"><a href="slots.html"><i class="fa fa-check"></i><b>9</b> Proyecto 3: Máquina Tragamonedas</a></li>
<li class="chapter" data-level="10" data-path="programs.html"><a href="programs.html"><i class="fa fa-check"></i><b>10</b> Programas</a>
<ul>
<li class="chapter" data-level="10.1" data-path="programs.html"><a href="programs.html#estrategia"><i class="fa fa-check"></i><b>10.1</b> Estrategia</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="programs.html"><a href="programs.html#pasos-secuenciales"><i class="fa fa-check"></i><b>10.1.1</b> Pasos Secuenciales</a></li>
<li class="chapter" data-level="10.1.2" data-path="programs.html"><a href="programs.html#casos-paralelos"><i class="fa fa-check"></i><b>10.1.2</b> Casos Paralelos</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="programs.html"><a href="programs.html#declaraciones-if"><i class="fa fa-check"></i><b>10.2</b> Declaraciones if</a></li>
<li class="chapter" data-level="10.3" data-path="programs.html"><a href="programs.html#declaraciones-else"><i class="fa fa-check"></i><b>10.3</b> Declaraciones else</a></li>
<li class="chapter" data-level="10.4" data-path="programs.html"><a href="programs.html#tablas-de-búsqueda"><i class="fa fa-check"></i><b>10.4</b> Tablas de Búsqueda</a></li>
<li class="chapter" data-level="10.5" data-path="programs.html"><a href="programs.html#comentarios-de-código"><i class="fa fa-check"></i><b>10.5</b> Comentarios de Código</a></li>
<li class="chapter" data-level="10.6" data-path="programs.html"><a href="programs.html#resumen-6"><i class="fa fa-check"></i><b>10.6</b> Resumen</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="s3.html"><a href="s3.html"><i class="fa fa-check"></i><b>11</b> S3</a>
<ul>
<li class="chapter" data-level="11.1" data-path="s3.html"><a href="s3.html#el-sistema-s3"><i class="fa fa-check"></i><b>11.1</b> El Sistema S3</a></li>
<li class="chapter" data-level="11.2" data-path="s3.html"><a href="s3.html#atributos"><i class="fa fa-check"></i><b>11.2</b> Atributos</a></li>
<li class="chapter" data-level="11.3" data-path="s3.html"><a href="s3.html#funciones-genéricas"><i class="fa fa-check"></i><b>11.3</b> Funciones Genéricas</a></li>
<li class="chapter" data-level="11.4" data-path="s3.html"><a href="s3.html#métodos"><i class="fa fa-check"></i><b>11.4</b> Métodos</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="s3.html"><a href="s3.html#selección-de-método"><i class="fa fa-check"></i><b>11.4.1</b> Selección de Método</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="s3.html"><a href="s3.html#clases-1"><i class="fa fa-check"></i><b>11.5</b> Clases</a></li>
<li class="chapter" data-level="11.6" data-path="s3.html"><a href="s3.html#s3-y-depuración"><i class="fa fa-check"></i><b>11.6</b> S3 y Depuración</a></li>
<li class="chapter" data-level="11.7" data-path="s3.html"><a href="s3.html#s4-y-r5"><i class="fa fa-check"></i><b>11.7</b> S4 y R5</a></li>
<li class="chapter" data-level="11.8" data-path="s3.html"><a href="s3.html#resumen-7"><i class="fa fa-check"></i><b>11.8</b> Resumen</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="loops.html"><a href="loops.html"><i class="fa fa-check"></i><b>12</b> Bucles</a>
<ul>
<li class="chapter" data-level="12.1" data-path="loops.html"><a href="loops.html#expected-values"><i class="fa fa-check"></i><b>12.1</b> Expected Values</a></li>
<li class="chapter" data-level="12.2" data-path="loops.html"><a href="loops.html#expand.grid"><i class="fa fa-check"></i><b>12.2</b> expand.grid</a></li>
<li class="chapter" data-level="12.3" data-path="loops.html"><a href="loops.html#for-loops"><i class="fa fa-check"></i><b>12.3</b> for Loops</a></li>
<li class="chapter" data-level="12.4" data-path="loops.html"><a href="loops.html#while-loops"><i class="fa fa-check"></i><b>12.4</b> while Loops</a></li>
<li class="chapter" data-level="12.5" data-path="loops.html"><a href="loops.html#repeat-loops"><i class="fa fa-check"></i><b>12.5</b> repeat Loops</a></li>
<li class="chapter" data-level="12.6" data-path="loops.html"><a href="loops.html#summary"><i class="fa fa-check"></i><b>12.6</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="speed.html"><a href="speed.html"><i class="fa fa-check"></i><b>13</b> Speed</a>
<ul>
<li class="chapter" data-level="13.1" data-path="speed.html"><a href="speed.html#vectorized-code"><i class="fa fa-check"></i><b>13.1</b> Vectorized Code</a></li>
<li class="chapter" data-level="13.2" data-path="speed.html"><a href="speed.html#how-to-write-vectorized-code"><i class="fa fa-check"></i><b>13.2</b> How to Write Vectorized Code</a></li>
<li class="chapter" data-level="13.3" data-path="speed.html"><a href="speed.html#how-to-write-fast-for-loops-in-r"><i class="fa fa-check"></i><b>13.3</b> How to Write Fast for Loops in R</a></li>
<li class="chapter" data-level="13.4" data-path="speed.html"><a href="speed.html#vectorized-code-in-practice"><i class="fa fa-check"></i><b>13.4</b> Vectorized Code in Practice</a>
<ul>
<li class="chapter" data-level="13.4.1" data-path="speed.html"><a href="speed.html#loops-versus-vectorized-code"><i class="fa fa-check"></i><b>13.4.1</b> Loops Versus Vectorized Code</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="speed.html"><a href="speed.html#summary-1"><i class="fa fa-check"></i><b>13.5</b> Summary</a></li>
<li class="chapter" data-level="13.6" data-path="speed.html"><a href="speed.html#project-3-wrap-up"><i class="fa fa-check"></i><b>13.6</b> Project 3 Wrap-up</a></li>
</ul></li>
<li class="appendix"><span><b>Apéndice</b></span></li>
<li class="chapter" data-level="A" data-path="starting.html"><a href="starting.html"><i class="fa fa-check"></i><b>A</b> Instalación de R y RStudio</a>
<ul>
<li class="chapter" data-level="A.1" data-path="starting.html"><a href="starting.html#cómo-descargar-e-instalar-r"><i class="fa fa-check"></i><b>A.1</b> Cómo descargar e instalar R</a>
<ul>
<li class="chapter" data-level="A.1.1" data-path="starting.html"><a href="starting.html#windows"><i class="fa fa-check"></i><b>A.1.1</b> Windows</a></li>
<li class="chapter" data-level="A.1.2" data-path="starting.html"><a href="starting.html#mac"><i class="fa fa-check"></i><b>A.1.2</b> Mac</a></li>
<li class="chapter" data-level="A.1.3" data-path="starting.html"><a href="starting.html#linux"><i class="fa fa-check"></i><b>A.1.3</b> Linux</a></li>
</ul></li>
<li class="chapter" data-level="A.2" data-path="starting.html"><a href="starting.html#usando-r"><i class="fa fa-check"></i><b>A.2</b> Usando R</a></li>
<li class="chapter" data-level="A.3" data-path="starting.html"><a href="starting.html#rstudio"><i class="fa fa-check"></i><b>A.3</b> RStudio</a></li>
<li class="chapter" data-level="A.4" data-path="starting.html"><a href="starting.html#abriendo-r"><i class="fa fa-check"></i><b>A.4</b> Abriendo R</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="packages2.html"><a href="packages2.html"><i class="fa fa-check"></i><b>B</b> Paquetes de R</a>
<ul>
<li class="chapter" data-level="B.1" data-path="packages2.html"><a href="packages2.html#instalando-paquetes"><i class="fa fa-check"></i><b>B.1</b> Instalando Paquetes</a></li>
<li class="chapter" data-level="B.2" data-path="packages2.html"><a href="packages2.html#cargando-paquetes"><i class="fa fa-check"></i><b>B.2</b> Cargando Paquetes</a></li>
</ul></li>
<li class="chapter" data-level="C" data-path="updating.html"><a href="updating.html"><i class="fa fa-check"></i><b>C</b> Updating R and Its Packages</a>
<ul>
<li class="chapter" data-level="C.1" data-path="updating.html"><a href="updating.html#r-packages"><i class="fa fa-check"></i><b>C.1</b> R Packages</a></li>
</ul></li>
<li class="chapter" data-level="D" data-path="dataio.html"><a href="dataio.html"><i class="fa fa-check"></i><b>D</b> Cargar y Guardar Datos en R</a>
<ul>
<li class="chapter" data-level="D.1" data-path="dataio.html"><a href="dataio.html#conjuntos-de-datos-en-r-base"><i class="fa fa-check"></i><b>D.1</b> Conjuntos de Datos en R Base</a></li>
<li class="chapter" data-level="D.2" data-path="dataio.html"><a href="dataio.html#directorio-de-trabajo"><i class="fa fa-check"></i><b>D.2</b> Directorio de Trabajo</a></li>
<li class="chapter" data-level="D.3" data-path="dataio.html"><a href="dataio.html#archivos-de-texto-sin-formato"><i class="fa fa-check"></i><b>D.3</b> Archivos de Texto Sin Formato</a>
<ul>
<li class="chapter" data-level="D.3.1" data-path="dataio.html"><a href="dataio.html#read.table"><i class="fa fa-check"></i><b>D.3.1</b> read.table</a></li>
<li class="chapter" data-level="D.3.2" data-path="dataio.html"><a href="dataio.html#la-familia-read"><i class="fa fa-check"></i><b>D.3.2</b> La Familia read</a></li>
<li class="chapter" data-level="D.3.3" data-path="dataio.html"><a href="dataio.html#read.fwf"><i class="fa fa-check"></i><b>D.3.3</b> read.fwf</a></li>
<li class="chapter" data-level="D.3.4" data-path="dataio.html"><a href="dataio.html#links-html"><i class="fa fa-check"></i><b>D.3.4</b> Links HTML</a></li>
<li class="chapter" data-level="D.3.5" data-path="dataio.html"><a href="dataio.html#guardar-archivos-de-texto-sin-formato"><i class="fa fa-check"></i><b>D.3.5</b> Guardar Archivos de Texto Sin Formato</a></li>
<li class="chapter" data-level="D.3.6" data-path="dataio.html"><a href="dataio.html#comprimiendo-archivos"><i class="fa fa-check"></i><b>D.3.6</b> Comprimiendo Archivos</a></li>
</ul></li>
<li class="chapter" data-level="D.4" data-path="dataio.html"><a href="dataio.html#archivos-de-r"><i class="fa fa-check"></i><b>D.4</b> Archivos de R</a>
<ul>
<li class="chapter" data-level="D.4.1" data-path="dataio.html"><a href="dataio.html#guardar-archivos-de-r"><i class="fa fa-check"></i><b>D.4.1</b> Guardar archivos de R</a></li>
</ul></li>
<li class="chapter" data-level="D.5" data-path="dataio.html"><a href="dataio.html#hojas-de-cálculo-de-excel"><i class="fa fa-check"></i><b>D.5</b> Hojas de Cálculo de Excel</a>
<ul>
<li class="chapter" data-level="D.5.1" data-path="dataio.html"><a href="dataio.html#exportar-desde-excel"><i class="fa fa-check"></i><b>D.5.1</b> Exportar desde Excel</a></li>
<li class="chapter" data-level="D.5.2" data-path="dataio.html"><a href="dataio.html#copiar-y-pegar"><i class="fa fa-check"></i><b>D.5.2</b> Copiar y pegar</a></li>
<li class="chapter" data-level="D.5.3" data-path="dataio.html"><a href="dataio.html#xlconnect"><i class="fa fa-check"></i><b>D.5.3</b> XLConnect</a></li>
<li class="chapter" data-level="D.5.4" data-path="dataio.html"><a href="dataio.html#lectura-de-hojas-de-cálculo"><i class="fa fa-check"></i><b>D.5.4</b> Lectura de Hojas de Cálculo</a></li>
<li class="chapter" data-level="D.5.5" data-path="dataio.html"><a href="dataio.html#escribir-hojas-de-cálculo"><i class="fa fa-check"></i><b>D.5.5</b> Escribir Hojas de Cálculo</a></li>
</ul></li>
<li class="chapter" data-level="D.6" data-path="dataio.html"><a href="dataio.html#cargar-archivos-desde-otros-programas"><i class="fa fa-check"></i><b>D.6</b> Cargar Archivos desde Otros Programas</a>
<ul>
<li class="chapter" data-level="D.6.1" data-path="dataio.html"><a href="dataio.html#conexión-a-bases-de-datos"><i class="fa fa-check"></i><b>D.6.1</b> Conexión a bases de datos</a></li>
</ul></li>
<li class="chapter" data-level="D.7" data-path="dataio.html"><a href="dataio.html#actualización"><i class="fa fa-check"></i><b>D.7</b> Actualización</a></li>
</ul></li>
<li class="chapter" data-level="E" data-path="debug.html"><a href="debug.html"><i class="fa fa-check"></i><b>E</b> Depuración de Código de R</a>
<ul>
<li class="chapter" data-level="E.1" data-path="debug.html"><a href="debug.html#traceback"><i class="fa fa-check"></i><b>E.1</b> traceback</a></li>
<li class="chapter" data-level="E.2" data-path="debug.html"><a href="debug.html#browser"><i class="fa fa-check"></i><b>E.2</b> browser</a></li>
<li class="chapter" data-level="E.3" data-path="debug.html"><a href="debug.html#break-points"><i class="fa fa-check"></i><b>E.3</b> Break Points</a></li>
<li class="chapter" data-level="E.4" data-path="debug.html"><a href="debug.html#debug-1"><i class="fa fa-check"></i><b>E.4</b> debug</a></li>
<li class="chapter" data-level="E.5" data-path="debug.html"><a href="debug.html#trace"><i class="fa fa-check"></i><b>E.5</b> trace</a></li>
<li class="chapter" data-level="E.6" data-path="debug.html"><a href="debug.html#recover"><i class="fa fa-check"></i><b>E.6</b> recover</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Programación práctica con R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="programs" class="section level1 hasAnchor" number="10">
<h1><span class="header-section-number">10</span> Programas<a href="programs.html#programs" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>En este capítulo, construirá una máquina tragamonedas real y funcional que puede jugar ejecutando una función R. Cuando termines, podrás jugarlo así:</p>
<div class="sourceCode" id="cb241"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb241-1"><a href="programs.html#cb241-1" aria-hidden="true" tabindex="-1"></a><span class="fu">play</span>()</span>
<span id="cb241-2"><a href="programs.html#cb241-2" aria-hidden="true" tabindex="-1"></a><span class="do">## 0 0 DD</span></span>
<span id="cb241-3"><a href="programs.html#cb241-3" aria-hidden="true" tabindex="-1"></a><span class="do">## $0</span></span>
<span id="cb241-4"><a href="programs.html#cb241-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb241-5"><a href="programs.html#cb241-5" aria-hidden="true" tabindex="-1"></a><span class="fu">play</span>()</span>
<span id="cb241-6"><a href="programs.html#cb241-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 7 7 7</span></span>
<span id="cb241-7"><a href="programs.html#cb241-7" aria-hidden="true" tabindex="-1"></a><span class="do">## $80</span></span></code></pre></div>
<p>La función <code>play</code> necesitará hacer dos cosas. Primero, necesitará generar aleatoriamente tres símbolos; y, segundo, necesitará calcular un premio basado en esos símbolos.</p>
<p>El primer paso es fácil de simular. Puede generar aleatoriamente tres símbolos con la función <code>sample</code>, tal como “lanzó” aleatoriamente dos dados en <a href="dice.html#dice">Proyecto 1: Dados Ponderados</a>. La siguiente función genera tres símbolos de un grupo de símbolos comunes de máquinas tragamonedas: diamantes (<code>DD</code>), sietes (<code>7</code>), barras triples (<code>BBB</code>), barras dobles (<code>BB</code>), barras simples (<code>B</code>), cerezas (<code>C</code>) y ceros (<code>0</code>). Los símbolos se seleccionan al azar y cada símbolo aparece con una probabilidad diferente:</p>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb242-1"><a href="programs.html#cb242-1" aria-hidden="true" tabindex="-1"></a><span class="fu">obt_simbolos</span>() <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb242-2"><a href="programs.html#cb242-2" aria-hidden="true" tabindex="-1"></a>  rueda <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;DD&quot;</span>, <span class="st">&quot;7&quot;</span>, <span class="st">&quot;BBB&quot;</span>, <span class="st">&quot;BB&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;0&quot;</span>)</span>
<span id="cb242-3"><a href="programs.html#cb242-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sample</span>(rueda, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>, </span>
<span id="cb242-4"><a href="programs.html#cb242-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">prob =</span> <span class="fu">c</span>(<span class="fl">0.03</span>, <span class="fl">0.03</span>, <span class="fl">0.06</span>, <span class="fl">0.1</span>, <span class="fl">0.25</span>, <span class="fl">0.01</span>, <span class="fl">0.52</span>))</span>
<span id="cb242-5"><a href="programs.html#cb242-5" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Puedes usar <code>obt_simbolos()</code> para generar los símbolos usados en tu máquina tragamonedas:</p>
<div class="sourceCode" id="cb243"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb243-1"><a href="programs.html#cb243-1" aria-hidden="true" tabindex="-1"></a><span class="fu">obt_simbolos</span>()</span>
<span id="cb243-2"><a href="programs.html#cb243-2" aria-hidden="true" tabindex="-1"></a><span class="do">## &quot;BBB&quot; &quot;0&quot;   &quot;C&quot;  </span></span>
<span id="cb243-3"><a href="programs.html#cb243-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb243-4"><a href="programs.html#cb243-4" aria-hidden="true" tabindex="-1"></a><span class="fu">obt_simbolos</span>()</span>
<span id="cb243-5"><a href="programs.html#cb243-5" aria-hidden="true" tabindex="-1"></a><span class="do">## &quot;0&quot; &quot;0&quot; &quot;0&quot;</span></span>
<span id="cb243-6"><a href="programs.html#cb243-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb243-7"><a href="programs.html#cb243-7" aria-hidden="true" tabindex="-1"></a><span class="fu">obt_simbolos</span>()</span>
<span id="cb243-8"><a href="programs.html#cb243-8" aria-hidden="true" tabindex="-1"></a><span class="do">## &quot;7&quot; &quot;0&quot; &quot;B&quot;</span></span></code></pre></div>
<p><code>obt_simbolos</code> utiliza las probabilidades observadas en un grupo de Terminales de Video Lotería de Manitoba, Canadá. Estas máquinas tragamonedas se volvieron brevemente controvertidas en la década de 1990, cuando un reportero decidió probar su tasa de pago. Las máquinas parecían pagar solo 40 centavos por dólar, aunque el fabricante afirmó que pagarían 92 centavos por dólar. Los datos originales recopilados en las máquinas y una descripción de la controversia están disponibles en línea en <a href="http://bit.ly/jse_Braun">un artículo de revista de W. John Braun</a>. La controversia se calmó cuando las pruebas adicionales mostraron que el fabricante tenía razón.</p>
<p>Las máquinas tragamonedas de Manitoba utilizan el complicado esquema de pagos que se muestra en la Tabla <a href="programs.html#tab:prizes">10.1</a>. Un jugador ganará un premio si obtiene:</p>
<ul>
<li>Tres del mismo tipo de símbolo (excepto tres ceros)</li>
<li>Tres barras (de variedad mixta)</li>
<li>Una o más cerezas</li>
</ul>
<p>De lo contrario, el jugador no recibe ningún premio.</p>
<p>El valor monetario del premio está determinado por la combinación exacta de símbolos y se modifica aún más por la presencia de diamantes. Los diamantes se tratan como “comodines”, lo que significa que pueden considerarse cualquier otro símbolo si aumentara el premio de un jugador. Por ejemplo, un jugador que lanza <code>7</code> <code>7</code> <code>DD</code> ganaría un premio por obtener tres sietes. Sin embargo, hay una excepción a esta regla: un diamante no se puede considerar una cereza a menos que el jugador también obtenga una cereza real. Esto evita que una tirada sin fondos como <code>0</code> <code>DD</code> <code>0</code> se puntúe como <code>0</code> <code>C</code> <code>0</code>.</p>
<p>Los diamantes también son especiales de otra manera. Cada diamante que aparece en una combinación duplica el importe del premio final. Así que <code>7</code> <code>7</code> <code>DD</code> en realidad tendría una puntuación <em>más alta</em> que <code>7</code> <code>7</code> <code>7</code>. Tres sietes te darían $80, pero dos sietes y un diamante te darían $160. Un siete y dos diamantes sería aún mejor, lo que daría como resultado un premio que se ha duplicado dos veces, o $320. Un premio mayor ocurre cuando un jugador lanza <code>DD</code> <code>DD</code> <code>DD</code>. Luego, un jugador gana $100 duplicados tres veces, lo que equivale a $800.</p>
<table>
<caption><span id="tab:prizes">Table 10.1: </span> Cada juego de la máquina tragamonedas cuesta $1. Los símbolos de un jugador determinan cuánto gana. Los diamantes (<code>DD</code>) son comodines y cada diamante duplica el premio final. * = cualquier símbolo.</caption>
<thead>
<tr class="header">
<th>Combinación</th>
<th>Premios($)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>DD  DD  DD</code></td>
<td>100</td>
</tr>
<tr class="even">
<td><code>7  7  7</code></td>
<td>80</td>
</tr>
<tr class="odd">
<td><code>BBB  BBB  BBB</code></td>
<td>40</td>
</tr>
<tr class="even">
<td><code>BB  BB  BB</code></td>
<td>25</td>
</tr>
<tr class="odd">
<td><code>B  B  B</code></td>
<td>10</td>
</tr>
<tr class="even">
<td><code>C  C  C</code></td>
<td>10</td>
</tr>
<tr class="odd">
<td>Cualquier combinación de barras</td>
<td>5</td>
</tr>
<tr class="even">
<td><code>C  C  *</code></td>
<td>5</td>
</tr>
<tr class="odd">
<td><code>C  *  C</code></td>
<td>5</td>
</tr>
<tr class="even">
<td><code>*  C  C</code></td>
<td>5</td>
</tr>
<tr class="odd">
<td><code>C  *  *</code></td>
<td>2</td>
</tr>
<tr class="even">
<td><code>*  C  *</code></td>
<td>2</td>
</tr>
<tr class="odd">
<td><code>*  *  C</code></td>
<td>2</td>
</tr>
</tbody>
</table>
<p>Para crear su función <code>play</code>, necesitará escribir un programa que pueda tomar la salida de <code>obt_simbolos</code> y calcular el premio correcto basado en Tabla <a href="programs.html#tab:prizes">10.1</a>.</p>
<p>En R, los programas se guardan como scripts de R o como funciones. Guardaremos su programa como una función llamada <code>puntuacion</code>. Cuando termines, podrás usar <code>puntuacion</code> para calcular un premio como este:</p>
<div class="sourceCode" id="cb244"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb244-1"><a href="programs.html#cb244-1" aria-hidden="true" tabindex="-1"></a><span class="fu">puntuacion</span>(<span class="fu">c</span>(<span class="st">&quot;DD&quot;</span>, <span class="st">&quot;DD&quot;</span>, <span class="st">&quot;DD&quot;</span>))</span>
<span id="cb244-2"><a href="programs.html#cb244-2" aria-hidden="true" tabindex="-1"></a><span class="do">## 800</span></span></code></pre></div>
<p>Después de eso, será fácil crear la máquina tragamonedas completa, así:</p>
<div class="sourceCode" id="cb245"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb245-1"><a href="programs.html#cb245-1" aria-hidden="true" tabindex="-1"></a>play <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb245-2"><a href="programs.html#cb245-2" aria-hidden="true" tabindex="-1"></a>  simbolos <span class="ot">&lt;-</span> <span class="fu">obt_simbolos</span>()</span>
<span id="cb245-3"><a href="programs.html#cb245-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(simbolos)</span>
<span id="cb245-4"><a href="programs.html#cb245-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">puntuacion</span>(simbolos)</span>
<span id="cb245-5"><a href="programs.html#cb245-5" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>

<div class="rmdnote">
El comando <code>print</code> imprime su salida en la ventana de la consola, lo que hace que <code>print</code> sea una forma útil de mostrar mensajes desde el cuerpo de una función.
</div>
<p>Puede notar que <code>play</code> llama a una nueva función, <code>print</code>. Esto ayudará a <code>play</code> a mostrar los tres símbolos de máquinas tragamonedas, ya que la última línea de la función no los devuelve. El comando <code>print</code> imprime su salida en la ventana de la consola, incluso si R lo llama desde dentro de una función.</p>
<p>En <a href="dice.html#dice">Proyecto 1: Dados Ponderados</a>, lo animé a escribir todo su código R en un script R, un archivo de texto donde puede redactar y guardar el código. Ese consejo será muy importante a medida que avance en este capítulo. Recuerde que puede abrir un script R en RStudio yendo a la barra de menú y haciendo clic en File &gt; New File &gt; R Script.</p>
<div id="estrategia" class="section level2 hasAnchor" number="10.1">
<h2><span class="header-section-number">10.1</span> Estrategia<a href="programs.html#estrategia" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>La puntuación de los resultados de las máquinas tragamonedas es una tarea compleja que requerirá un algoritmo complejo. Puede facilitar esta y otras tareas de codificación utilizando una estrategia simple:</p>
<ul>
<li>Dividir tareas complejas en subtareas simples.</li>
<li>Utilice ejemplos concretos.</li>
<li>Describa sus soluciones en español, luego conviértalas a R.</li>
</ul>
<p>Comencemos por ver cómo puede dividir un programa en subtareas con las que es fácil trabajar.</p>
<p>Un programa es un conjunto de instrucciones paso a paso que debe seguir su computadora. En conjunto, estas instrucciones pueden lograr algo muy sofisticado. Por separado, cada paso individual probablemente será simple y directo.</p>
<p>Puede facilitar la codificación identificando los pasos o subtareas individuales dentro de su programa. A continuación, puede trabajar en cada subtarea por separado. Si una subtarea parece complicada, intente dividirla nuevamente en subtareas pares que sean aún más simples. A menudo, puede reducir un programa de R en subtareas tan simples que cada una se puede realizar con una función preexistente.</p>
<p>Los programas de R contienen dos tipos de subtareas: pasos secuenciales y casos paralelos.</p>
<div id="pasos-secuenciales" class="section level3 hasAnchor" number="10.1.1">
<h3><span class="header-section-number">10.1.1</span> Pasos Secuenciales<a href="programs.html#pasos-secuenciales" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Una forma de subdividir un programa es en una serie de pasos secuenciales. La función <code>play</code> toma el enfoque que se muestra en la Figura <a href="programs.html#fig:subdivide1">10.1</a>. Primero, genera tres símbolos (paso 1), luego los muestra en la ventana de la consola (paso 2) y luego los puntúa (paso 3):</p>
<div class="sourceCode" id="cb246"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb246-1"><a href="programs.html#cb246-1" aria-hidden="true" tabindex="-1"></a>play <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb246-2"><a href="programs.html#cb246-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb246-3"><a href="programs.html#cb246-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># step 1: genera simbolos</span></span>
<span id="cb246-4"><a href="programs.html#cb246-4" aria-hidden="true" tabindex="-1"></a>  simbolos <span class="ot">&lt;-</span> <span class="fu">obt_simbolos</span>()</span>
<span id="cb246-5"><a href="programs.html#cb246-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb246-6"><a href="programs.html#cb246-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># step 2: muestra los simbolos</span></span>
<span id="cb246-7"><a href="programs.html#cb246-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(simbolos)</span>
<span id="cb246-8"><a href="programs.html#cb246-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb246-9"><a href="programs.html#cb246-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># step 3: puntua los simbolos</span></span>
<span id="cb246-10"><a href="programs.html#cb246-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">puntuacion</span>(simbolos)</span>
<span id="cb246-11"><a href="programs.html#cb246-11" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Para que R ejecute los pasos en secuencia, coloque los pasos uno tras otro en un script de R o en el cuerpo de una función.</p>
<div class="figure"><span style="display:block;" id="fig:subdivide1"></span>
<img src="images/hopr_0701.png" alt="La función play utiliza una serie de pasos." width="457" />
<p class="caption">
Figure 10.1: La función play utiliza una serie de pasos.
</p>
</div>
</div>
<div id="casos-paralelos" class="section level3 hasAnchor" number="10.1.2">
<h3><span class="header-section-number">10.1.2</span> Casos Paralelos<a href="programs.html#casos-paralelos" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Otra forma de dividir una tarea es detectar grupos de casos similares dentro de la tarea. Algunas tareas requieren diferentes algoritmos para diferentes grupos de entrada. Si puede identificar esos grupos, puede resolver sus algoritmos uno a la vez.</p>
<p>Por ejemplo, <code>puntuacion</code> necesitará calcular el premio de una manera si <code>simbolos</code> contiene tres de una clase (en ese caso, <code>puntuacion</code> necesitará hacer coincidir el símbolo común con un premio). <code>puntuacion</code> necesitará calcular el premio de una segunda manera si los símbolos son todos barras (en ese caso, <code>puntuacion</code> puede asignar un premio de $5). Y, por último, <code>puntuacion</code> necesitará calcular el premio de una tercera forma si los símbolos no contienen tríos o todas las barras (en ese caso, <code>puntuacion</code> debe contar el número de cerezas presentes). <code>puntuacion</code> nunca usará estos tres algoritmos a la vez; siempre elegirá solo un algoritmo para ejecutar en función de la combinación de símbolos.</p>
<p>Los diamantes complican todo esto porque los diamantes pueden ser tratados como comodines. Ignoremos eso por ahora y concentrémonos en el caso más simple donde los diamantes duplican el premio pero no son comodines. <code>puntuacion</code> puede duplicar el premio según sea necesario después de ejecutar uno de los siguientes algoritmos, como se muestra en la Figura <a href="programs.html#fig:subdivide2">10.2</a>.</p>
<p>Agregar los casos de <code>puntuación</code> a los pasos de <code>play</code> revela una estrategia para el programa completo de máquinas tragamonedas, como se muestra en la Figura <a href="programs.html#fig:subdivide3">10.3</a>.</p>
<p>Ya hemos resuelto los primeros pasos de esta estrategia. Nuestro programa puede obtener tres símbolos de máquinas tragamonedas con la función <code>obt_simbolos</code>. Entonces puede mostrar los símbolos con la función <code>print</code>. Ahora examinemos cómo el programa puede manejar los casos de puntuación paralela.</p>
<div class="figure"><span style="display:block;" id="fig:subdivide2"></span>
<img src="images/hopr_0702.png" alt="La función de puntuación debe distinguir entre casos paralelos." width="666" />
<p class="caption">
Figure 10.2: La función de puntuación debe distinguir entre casos paralelos.
</p>
</div>
<div class="figure"><span style="display:block;" id="fig:subdivide3"></span>
<img src="images/hopr_0703.png" alt="La simulación completa de la máquina tragamonedas implicará subtareas que se organizan tanto en serie como en paralelo." width="782" />
<p class="caption">
Figure 10.3: La simulación completa de la máquina tragamonedas implicará subtareas que se organizan tanto en serie como en paralelo.
</p>
</div>
</div>
</div>
<div id="declaraciones-if" class="section level2 hasAnchor" number="10.2">
<h2><span class="header-section-number">10.2</span> Declaraciones if<a href="programs.html#declaraciones-if" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Vincular casos en paralelo requiere un poco de estructura; su programa se enfrenta a una bifurcación en el camino cada vez que debe elegir entre casos. Puedes ayudar al programa a navegar por esta bifurcación con una instrucción <code>if</code>.</p>
<p>Una declaración <code>if</code> le dice a R que haga una tarea determinada para un caso determinado. En español dirías algo como: “Si esto es cierto, haz aquello”. En R, dirías:</p>
<div class="sourceCode" id="cb247"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb247-1"><a href="programs.html#cb247-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (esto) {</span>
<span id="cb247-2"><a href="programs.html#cb247-2" aria-hidden="true" tabindex="-1"></a>  aquello</span>
<span id="cb247-3"><a href="programs.html#cb247-3" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>El objeto <code>esto</code> debe ser una prueba lógica o una expresión de R que se evalúe a un solo <code>TRUE</code> o <code>FALSE</code>. Si <code>esto</code> se evalúa como <code>TRUE</code>, R ejecutará todo el código que aparece entre las llaves que siguen a la instrucción <code>if</code> (es decir, entre los símbolos <code>{</code> y <code>}</code>). Si <code>esto</code> se evalúa como <code>FALSE</code>, R omitirá el código entre llaves sin ejecutarlo.</p>
<p>Por ejemplo, podría escribir una declaración <code>if</code> que asegure que algún objeto, <code>num</code>, sea positivo:</p>
<div class="sourceCode" id="cb248"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb248-1"><a href="programs.html#cb248-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (num <span class="sc">&lt;</span> <span class="dv">0</span>) {</span>
<span id="cb248-2"><a href="programs.html#cb248-2" aria-hidden="true" tabindex="-1"></a>  num <span class="ot">&lt;-</span> num <span class="sc">*</span> <span class="sc">-</span><span class="dv">1</span></span>
<span id="cb248-3"><a href="programs.html#cb248-3" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Si <code>num &lt; 0</code> es <code>TRUE</code>, R multiplicará <code>num</code> por uno negativo, lo que hará que <code>num</code> sea positivo:</p>
<div class="sourceCode" id="cb249"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb249-1"><a href="programs.html#cb249-1" aria-hidden="true" tabindex="-1"></a>num <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">2</span></span>
<span id="cb249-2"><a href="programs.html#cb249-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb249-3"><a href="programs.html#cb249-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (num <span class="sc">&lt;</span> <span class="dv">0</span>) {</span>
<span id="cb249-4"><a href="programs.html#cb249-4" aria-hidden="true" tabindex="-1"></a>  num <span class="ot">&lt;-</span> num <span class="sc">*</span> <span class="sc">-</span><span class="dv">1</span></span>
<span id="cb249-5"><a href="programs.html#cb249-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb249-6"><a href="programs.html#cb249-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb249-7"><a href="programs.html#cb249-7" aria-hidden="true" tabindex="-1"></a>num</span>
<span id="cb249-8"><a href="programs.html#cb249-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 2</span></span></code></pre></div>
<p>Si <code>num &lt; 0</code> es <code>FALSE</code>, R no hará nada y <code>num</code> permanecerá como está: positivo (o cero):</p>
<div class="sourceCode" id="cb250"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb250-1"><a href="programs.html#cb250-1" aria-hidden="true" tabindex="-1"></a>num <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb250-2"><a href="programs.html#cb250-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb250-3"><a href="programs.html#cb250-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (num <span class="sc">&lt;</span> <span class="dv">0</span>) {</span>
<span id="cb250-4"><a href="programs.html#cb250-4" aria-hidden="true" tabindex="-1"></a>  num <span class="ot">&lt;-</span> num <span class="sc">*</span> <span class="sc">-</span><span class="dv">1</span></span>
<span id="cb250-5"><a href="programs.html#cb250-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb250-6"><a href="programs.html#cb250-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb250-7"><a href="programs.html#cb250-7" aria-hidden="true" tabindex="-1"></a>num</span>
<span id="cb250-8"><a href="programs.html#cb250-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 4</span></span></code></pre></div>
<p>La condición de una declaración <code>if</code> debe evaluarse como un <em>único</em> <code>TRUE</code> o <code>FALSE</code>. Si la condición crea un vector de <code>TRUE</code> y <code>FALSE</code> (que es más fácil de hacer de lo que piensa), su declaración <code>if</code> imprimirá un mensaje de advertencia y usará solo el primer elemento del vector. Recuerda que puedes condensar vectores de valores lógicos en un solo <code>TRUE</code> o <code>FALSE</code> con las funciones <code>any</code> y <code>all</code>.</p>
<p>No tienes que limitar tus declaraciones <code>if</code> a una sola línea de código; puede incluir tantas líneas como desee entre las llaves. Por ejemplo, el siguiente código usa muchas líneas para asegurar que <code>num</code> sea positivo. Las líneas adicionales imprimen algunas declaraciones informativas si <code>num</code> comienza como un número negativo. R omitirá todo el bloque de código, declaraciones <code>print</code> y todo, si <code>num</code> comienza como un número positivo:</p>
<div class="sourceCode" id="cb251"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb251-1"><a href="programs.html#cb251-1" aria-hidden="true" tabindex="-1"></a>num <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">1</span></span>
<span id="cb251-2"><a href="programs.html#cb251-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-3"><a href="programs.html#cb251-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (num <span class="sc">&lt;</span> <span class="dv">0</span>) {</span>
<span id="cb251-4"><a href="programs.html#cb251-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;num es negativo.&quot;</span>)</span>
<span id="cb251-5"><a href="programs.html#cb251-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;No te preocupes, lo arreglaré.&quot;</span>)</span>
<span id="cb251-6"><a href="programs.html#cb251-6" aria-hidden="true" tabindex="-1"></a>  num <span class="ot">&lt;-</span> num <span class="sc">*</span> <span class="sc">-</span><span class="dv">1</span></span>
<span id="cb251-7"><a href="programs.html#cb251-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;Ahora num es positivo.&quot;</span>)</span>
<span id="cb251-8"><a href="programs.html#cb251-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb251-9"><a href="programs.html#cb251-9" aria-hidden="true" tabindex="-1"></a><span class="do">## &quot;num es negativo.&quot;</span></span>
<span id="cb251-10"><a href="programs.html#cb251-10" aria-hidden="true" tabindex="-1"></a><span class="do">## &quot;No te preocupes, lo arreglaré.&quot;</span></span>
<span id="cb251-11"><a href="programs.html#cb251-11" aria-hidden="true" tabindex="-1"></a><span class="do">## &quot;Ahora num es positivo.&quot;</span></span>
<span id="cb251-12"><a href="programs.html#cb251-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-13"><a href="programs.html#cb251-13" aria-hidden="true" tabindex="-1"></a>num</span>
<span id="cb251-14"><a href="programs.html#cb251-14" aria-hidden="true" tabindex="-1"></a><span class="do">## 1</span></span></code></pre></div>
<p>Pruebe las siguientes pruebas para desarrollar su comprensión de las declaraciones <code>if</code>.</p>
<p><strong>Ejercicio 10.1 (Cuestionario A)</strong> ¿Qué devolverá esto?</p>
<div class="sourceCode" id="cb252"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb252-1"><a href="programs.html#cb252-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb252-2"><a href="programs.html#cb252-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="dv">3</span> <span class="sc">==</span> <span class="dv">3</span>) {</span>
<span id="cb252-3"><a href="programs.html#cb252-3" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb252-4"><a href="programs.html#cb252-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb252-5"><a href="programs.html#cb252-5" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<div class="solution">
<p><span id="unlabeled-div-17" class="solution"><em>Solution</em>. </span>El código devolverá el número 2. <code>x</code> comienza como 1, y luego R encuentra la declaración <code>if</code>. Dado que la condición se evalúa como <code>TRUE</code>, R ejecutará <code>x &lt;- 2</code>, cambiando el valor de <code>x</code>.</p>
</div>
<p><strong>Ejercicio 10.2 (Cuestionario B)</strong> ¿Qué devolverá esto?</p>
<div class="sourceCode" id="cb253"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb253-1"><a href="programs.html#cb253-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb253-2"><a href="programs.html#cb253-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="cn">TRUE</span>) {</span>
<span id="cb253-3"><a href="programs.html#cb253-3" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb253-4"><a href="programs.html#cb253-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb253-5"><a href="programs.html#cb253-5" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<div class="solution">
<p><span id="unlabeled-div-18" class="solution"><em>Solution</em>. </span>Este código también devolverá el número 2. Funciona igual que el código en la prueba A, excepto que la condición en esta declaración ya es <code>TRUE</code>. R ni siquiera necesita evaluarlo. Como resultado, se ejecutará el código dentro de la instrucción <code>if</code> y <code>x</code> se establecerá en 2.</p>
</div>
<p><strong>Ejercicio 10.3 (Cuestionario C)</strong> ¿Qué devolverá esto?</p>
<div class="sourceCode" id="cb254"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb254-1"><a href="programs.html#cb254-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb254-2"><a href="programs.html#cb254-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (x <span class="sc">==</span> <span class="dv">1</span>) {</span>
<span id="cb254-3"><a href="programs.html#cb254-3" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb254-4"><a href="programs.html#cb254-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (x <span class="sc">==</span> <span class="dv">1</span>) {</span>
<span id="cb254-5"><a href="programs.html#cb254-5" aria-hidden="true" tabindex="-1"></a>    x <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb254-6"><a href="programs.html#cb254-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb254-7"><a href="programs.html#cb254-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb254-8"><a href="programs.html#cb254-8" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<div class="solution">
<p><span id="unlabeled-div-19" class="solution"><em>Solution</em>. </span>Una vez más, el código devolverá el número 2. <code>x</code> comienza como 1, y la condición de la primera declaración <code>if</code> se evaluará como <code>TRUE</code>, lo que hace que R ejecute el código en el cuerpo de la esa declaración <code>if</code>. Primero, R establece <code>x</code> igual a 2, luego R evalúa la segunda declaración <code>if</code>, que está en el cuerpo de la primera. Esta vez <code>x == 1</code> se evaluará como <code>FALSE</code> porque <code>x</code> ahora es igual a 2. Como resultado, R ignora <code>x &lt;- 3</code> y sale de ambas declaraciones <code>if</code>.</p>
</div>
</div>
<div id="declaraciones-else" class="section level2 hasAnchor" number="10.3">
<h2><span class="header-section-number">10.3</span> Declaraciones else<a href="programs.html#declaraciones-else" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Las declaraciones <code>if</code> le dicen a R qué hacer cuando su condición es <em>verdadera</em>, pero también puede decirle a R qué hacer cuando la condición es <em>falsa</em>. <code>else</code> es una contraparte de <code>if</code> que extiende una declaración <code>if</code> para incluir un segundo caso. En español, dirías: “Si esto es cierto, haz el plan A; de lo contrario, haz el plan B”. En R, dirías:</p>
<div class="sourceCode" id="cb255"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb255-1"><a href="programs.html#cb255-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (esto) {</span>
<span id="cb255-2"><a href="programs.html#cb255-2" aria-hidden="true" tabindex="-1"></a>  Plan A</span>
<span id="cb255-3"><a href="programs.html#cb255-3" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb255-4"><a href="programs.html#cb255-4" aria-hidden="true" tabindex="-1"></a>  Plan B</span>
<span id="cb255-5"><a href="programs.html#cb255-5" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Cuando <code>esto</code> se evalúa como <code>TRUE</code>, R ejecutará el código en el primer conjunto de llaves, pero no el código en el segundo. Cuando <code>esto</code> se evalúa como <code>FALSE</code>, R ejecutará el código en el segundo conjunto de llaves, pero no en el primero. Puede utilizar este arreglo para cubrir todos los casos posibles. Por ejemplo, podría escribir algún código que redondee un decimal al entero más cercano.</p>
<p>Comience con un decimal:</p>
<div class="sourceCode" id="cb256"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb256-1"><a href="programs.html#cb256-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fl">3.14</span></span></code></pre></div>
<p>Luego aísle el componente decimal con <code>trunc</code>:</p>
<div class="sourceCode" id="cb257"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb257-1"><a href="programs.html#cb257-1" aria-hidden="true" tabindex="-1"></a>dec <span class="ot">&lt;-</span> a <span class="sc">-</span> <span class="fu">trunc</span>(a)</span>
<span id="cb257-2"><a href="programs.html#cb257-2" aria-hidden="true" tabindex="-1"></a>dec</span>
<span id="cb257-3"><a href="programs.html#cb257-3" aria-hidden="true" tabindex="-1"></a><span class="do">## 0.14</span></span></code></pre></div>

<div class="rmdnote">
<code>trunc</code> toma un número y devuelve solo la parte del número que aparece a la izquierda del lugar decimal (es decir, la parte entera del número).
</div>

<div class="rmdnote">
<code>a - trunc(a)</code> es una forma conveniente de devolver la parte decimal de <code>a</code>.
</div>
<p>Luego use un árbol <code>if else</code> para redondear el número (hacia arriba o hacia abajo):</p>
<div class="sourceCode" id="cb258"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb258-1"><a href="programs.html#cb258-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (dec <span class="sc">&gt;=</span> <span class="fl">0.5</span>) {</span>
<span id="cb258-2"><a href="programs.html#cb258-2" aria-hidden="true" tabindex="-1"></a>  a <span class="ot">&lt;-</span> <span class="fu">trunc</span>(a) <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb258-3"><a href="programs.html#cb258-3" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb258-4"><a href="programs.html#cb258-4" aria-hidden="true" tabindex="-1"></a>  a <span class="ot">&lt;-</span> <span class="fu">trunc</span>(a)</span>
<span id="cb258-5"><a href="programs.html#cb258-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb258-6"><a href="programs.html#cb258-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb258-7"><a href="programs.html#cb258-7" aria-hidden="true" tabindex="-1"></a>a</span>
<span id="cb258-8"><a href="programs.html#cb258-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 3</span></span></code></pre></div>
<p>Si su situación tiene más de dos casos que se excluyen mutuamente, puede unir varias declaraciones <code>if</code> y <code>else</code> agregando una nueva declaración <code>if</code> inmediatamente después de <code>else</code>. Por ejemplo:</p>
<div class="sourceCode" id="cb259"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb259-1"><a href="programs.html#cb259-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb259-2"><a href="programs.html#cb259-2" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb259-3"><a href="programs.html#cb259-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb259-4"><a href="programs.html#cb259-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (a <span class="sc">&gt;</span> b) {</span>
<span id="cb259-5"><a href="programs.html#cb259-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;¡A gana!&quot;</span>)</span>
<span id="cb259-6"><a href="programs.html#cb259-6" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> <span class="cf">if</span> (a <span class="sc">&lt;</span> b) {</span>
<span id="cb259-7"><a href="programs.html#cb259-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;¡B gana!&quot;</span>)</span>
<span id="cb259-8"><a href="programs.html#cb259-8" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb259-9"><a href="programs.html#cb259-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;Empate.&quot;</span>)</span>
<span id="cb259-10"><a href="programs.html#cb259-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb259-11"><a href="programs.html#cb259-11" aria-hidden="true" tabindex="-1"></a><span class="do">## &quot;Empate.&quot;</span></span></code></pre></div>
<p>R trabajará a través de las condiciones <code>if</code> hasta que una se evalúe como <code>TRUE</code>, entonces R ignorará cualquier cláusula <code>if</code> y <code>else</code> restante en el árbol. Si ninguna condición se evalúa como <code>TRUE</code>, R ejecutará la declaración <code>else</code> final.</p>
<p>Si dos sentencias <code>if</code> describen eventos que se excluyen mutuamente, es mejor unir las sentencias <code>if</code> con <code>else if</code> que listarlas por separado. Esto le permite a R ignorar la segunda declaración <code>if</code> siempre que la primera devuelva un <code>TRUE</code>, lo que ahorra trabajo.</p>
<p>Puede usar <code>if</code> y <code>else</code> para vincular las subtareas en su función de máquina tragamonedas. Abra un script R nuevo y copie este código en él. El código será el esqueleto de nuestra función <code>puntuación</code> final. Compáralo con el diagrama de flujo para <code>puntuación</code> en la Figura <a href="programs.html#fig:subdivide2">10.2</a>:</p>
<div class="sourceCode" id="cb260"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb260-1"><a href="programs.html#cb260-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> ( <span class="co"># Caso 1: todos son iguales &lt;1&gt;) {</span></span>
<span id="cb260-2"><a href="programs.html#cb260-2" aria-hidden="true" tabindex="-1"></a>  premio <span class="ot">&lt;-</span> <span class="co"># Buscar el premio &lt;3&gt;</span></span>
<span id="cb260-3"><a href="programs.html#cb260-3" aria-hidden="true" tabindex="-1"></a><span class="er">}</span> <span class="cf">else</span> <span class="cf">if</span> ( <span class="co"># Caso 2: todos barras &lt;2&gt; ) {</span></span>
<span id="cb260-4"><a href="programs.html#cb260-4" aria-hidden="true" tabindex="-1"></a>  premio <span class="ot">&lt;-</span> <span class="co"># asignar $5 &lt;4&gt;</span></span>
<span id="cb260-5"><a href="programs.html#cb260-5" aria-hidden="true" tabindex="-1"></a><span class="er">}</span> <span class="cf">else</span> {</span>
<span id="cb260-6"><a href="programs.html#cb260-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># contar cerezas &lt;5&gt;</span></span>
<span id="cb260-7"><a href="programs.html#cb260-7" aria-hidden="true" tabindex="-1"></a>  premio <span class="ot">&lt;-</span> <span class="co"># calcular el premio &lt;7&gt;</span></span>
<span id="cb260-8"><a href="programs.html#cb260-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb260-9"><a href="programs.html#cb260-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb260-10"><a href="programs.html#cb260-10" aria-hidden="true" tabindex="-1"></a><span class="co"># contar diamantes &lt;6&gt;</span></span>
<span id="cb260-11"><a href="programs.html#cb260-11" aria-hidden="true" tabindex="-1"></a><span class="co"># duplicar el premio si es necesario &lt;8&gt;</span></span></code></pre></div>
<p>Nuestro esqueleto es bastante incompleto; hay muchas secciones que son solo comentarios de código en lugar de código real. Sin embargo, hemos reducido el programa a ocho subtareas simples:</p>
<p><strong>&lt;1&gt;</strong> - Prueba si los símbolos son tres de una clase.
<strong>&lt;2&gt;</strong> - Prueba si los símbolos son solo barras.
<strong>&lt;3&gt;</strong> - Busque el premio de tres iguales según el símbolo común.
<em><strong>&lt;4&gt;</strong> - Asigne un premio de $5.
<strong>&lt;5&gt;</strong> - Cuenta el número de cerezas.
</em><strong>&lt;6&gt;</strong> - Cuenta el número de diamantes.
<em><strong>&lt;7&gt;</strong> - Calcula un premio basado en el número de cerezas.
</em><strong>&lt;8&gt;</strong> - Ajustar el premio por diamantes.</p>
<p>Si lo desea, puede reorganizar su diagrama de flujo en torno a estas tareas, como en la Figura <a href="programs.html#fig:subdivide4">10.4</a>. El gráfico describirá la misma estrategia, pero de una manera más precisa. Usaré una forma de diamante para simbolizar una decisión <code>if else</code>.</p>
<div class="figure"><span style="display:block;" id="fig:subdivide4"></span>
<img src="images/hopr_0704.png" alt="puntuacion puede navegar tres casos con dos decisiones if else. También podemos dividir algunas de nuestras tareas en dos pasos." width="782" />
<p class="caption">
Figure 10.4: puntuacion puede navegar tres casos con dos decisiones if else. También podemos dividir algunas de nuestras tareas en dos pasos.
</p>
</div>
<p>Ahora podemos trabajar en las subtareas una a la vez, agregando código de R al árbol <code>if</code> a medida que avanzamos. Cada subtarea será fácil de resolver si configura un ejemplo concreto para trabajar e intenta describir una solución en español antes de codificar en R.</p>
<p>La primera subtarea le pide que pruebe si los símbolos son tres de una clase. ¿Cómo debería comenzar a escribir el código para esta subtarea?</p>
<p>Sabes que la función <code>puntuacion</code> final se verá así:</p>
<div class="sourceCode" id="cb261"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb261-1"><a href="programs.html#cb261-1" aria-hidden="true" tabindex="-1"></a>puntuacion <span class="ot">&lt;-</span> <span class="cf">function</span>(simbolos) {</span>
<span id="cb261-2"><a href="programs.html#cb261-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb261-3"><a href="programs.html#cb261-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># calcular el premio</span></span>
<span id="cb261-4"><a href="programs.html#cb261-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb261-5"><a href="programs.html#cb261-5" aria-hidden="true" tabindex="-1"></a>  premio</span>
<span id="cb261-6"><a href="programs.html#cb261-6" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Su argumento, <code>simbolos</code>, será la salida de <code>obt_simbolos</code>, un vector que contiene tres cadenas de caracteres. Podría comenzar a escribir <code>puntuacion</code> como lo he escrito, definiendo un objeto llamado <code>puntuacion</code> y luego completando lentamente el cuerpo de la función. Sin embargo, esto sería una mala idea. La función eventual tendrá ocho partes separadas, y no funcionará correctamente hasta que <em>todas</em> esas partes estén escritas (y funcionen correctamente). Esto significa que tendría que escribir toda la función <code>puntuacion</code> antes de poder probar cualquiera de las subtareas. Si <code>puntuacion</code> no funciona, lo cual es muy probable, no sabrá qué subtarea debe corregirse.</p>
<p>Puede ahorrarse tiempo y dolores de cabeza si se enfoca en una subtarea a la vez. Para cada subtarea, cree un ejemplo concreto en el que pueda probar su código. Por ejemplo, sabe que <code>puntuacion</code> necesitará trabajar en un vector llamado <code>simbolos</code> que contiene tres cadenas de caracteres. Si crea un vector real llamado <code>simbolos</code>, puede ejecutar el código para muchas de sus subtareas en el vector a medida que avanza:</p>
<div class="sourceCode" id="cb262"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb262-1"><a href="programs.html#cb262-1" aria-hidden="true" tabindex="-1"></a>simbolos <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;7&quot;</span>, <span class="st">&quot;7&quot;</span>, <span class="st">&quot;7&quot;</span>)</span></code></pre></div>
<p>Si una pieza de código no funciona en <code>simbolos</code>, sabrá que necesita arreglarlo antes de continuar. Puedes cambiar el valor de <code>simbolos</code> de subtarea a subtarea para asegurarte de que tu código funcione en todas las situaciones:</p>
<div class="sourceCode" id="cb263"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb263-1"><a href="programs.html#cb263-1" aria-hidden="true" tabindex="-1"></a>simbolos <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;B&quot;</span>, <span class="st">&quot;BB&quot;</span>, <span class="st">&quot;BBB&quot;</span>)</span>
<span id="cb263-2"><a href="programs.html#cb263-2" aria-hidden="true" tabindex="-1"></a>simbolos <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;C&quot;</span>, <span class="st">&quot;DD&quot;</span>, <span class="st">&quot;0&quot;</span>)</span></code></pre></div>
<p>Solo combine sus subtareas en una función de <code>puntuacion</code> una vez que cada subtarea funcione en un ejemplo concreto. Si sigue este plan, pasará más tiempo usando sus funciones y menos tratando de averiguar por qué no funcionan.</p>
<p>Después de establecer un ejemplo concreto, intente describir cómo realizará la subtarea en español. Cuanto más precisamente pueda describir su solución, más fácil será escribir su código de R.</p>
<p>Nuestra primera subtarea nos pide que “probemos si los símbolos son tres iguales”. Esta frase no me sugiere ningún código de R útil. Sin embargo, podría describir una prueba más precisa para el trío: tres símbolos serán iguales si el primer símbolo es igual al segundo y el segundo símbolo es igual al tercero. O, aún más precisamente:</p>
<p><em>Un vector llamado <code>simbolos</code> contendrá tres del mismo símbolo si el primer elemento de <code>simbolos</code> es igual al segundo elemento de <code>simbolos</code> y el segundo elemento de <code>simbolos</code> es igual al tercer elemento de <code>simbolos</code></em>.</p>
<p><strong>Ejercicio 10.4 (Escribe una Prueba)</strong> Convierta la declaración anterior en una prueba lógica escrita en R. Use su conocimiento de pruebas lógicas, operadores booleanos y subconjuntos de <a href="notation.html#notation">Notación de R</a>. La prueba debería funcionar con el vector <code>simbolos</code> y devolver un <code>TRUE</code> <em>si y solo si</em> cada elemento en <code>simbolos</code> es el mismo. Asegúrese de probar su código en <code>simbolos</code>.</p>
<div class="solution">
<p><span id="unlabeled-div-20" class="solution"><em>Solution</em>. </span>Aquí hay un par de formas de probar que <code>simbolos</code> contiene tres del mismo símbolo. El primer método es paralelo a la sugerencia en español anterior, pero hay otras formas de hacer la misma prueba. No hay una respuesta correcta o incorrecta, siempre y cuando su solución funcione, lo cual es fácil de comprobar porque ha creado un vector llamado <code>simbolos</code>:</p>
</div>
<div class="sourceCode" id="cb264"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb264-1"><a href="programs.html#cb264-1" aria-hidden="true" tabindex="-1"></a>simbolos</span>
<span id="cb264-2"><a href="programs.html#cb264-2" aria-hidden="true" tabindex="-1"></a><span class="do">##  &quot;7&quot; &quot;7&quot; &quot;7&quot;</span></span>
<span id="cb264-3"><a href="programs.html#cb264-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb264-4"><a href="programs.html#cb264-4" aria-hidden="true" tabindex="-1"></a>simbolos[<span class="dv">1</span>] <span class="sc">==</span> simbolos[<span class="dv">2</span>] <span class="sc">&amp;</span> simbolos[<span class="dv">2</span>] <span class="sc">==</span> simbolos[<span class="dv">3</span>]</span>
<span id="cb264-5"><a href="programs.html#cb264-5" aria-hidden="true" tabindex="-1"></a><span class="do">## TRUE</span></span>
<span id="cb264-6"><a href="programs.html#cb264-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb264-7"><a href="programs.html#cb264-7" aria-hidden="true" tabindex="-1"></a>simbolos[<span class="dv">1</span>] <span class="sc">==</span> simbolos[<span class="dv">2</span>] <span class="sc">&amp;</span> simbolos[<span class="dv">1</span>] <span class="sc">==</span> simbolos[<span class="dv">3</span>]</span>
<span id="cb264-8"><a href="programs.html#cb264-8" aria-hidden="true" tabindex="-1"></a><span class="do">## TRUE</span></span>
<span id="cb264-9"><a href="programs.html#cb264-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb264-10"><a href="programs.html#cb264-10" aria-hidden="true" tabindex="-1"></a><span class="fu">all</span>(simbolos <span class="sc">==</span> simbolos[<span class="dv">1</span>])</span>
<span id="cb264-11"><a href="programs.html#cb264-11" aria-hidden="true" tabindex="-1"></a><span class="do">## TRUE</span></span></code></pre></div>
<p>A medida que su vocabulario de funciones de R se amplíe, pensará en más formas de realizar tareas básicas. Un método que me gusta para verificar si tres son iguales es:</p>
<div class="sourceCode" id="cb265"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb265-1"><a href="programs.html#cb265-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">unique</span>(simbolos)) <span class="sc">==</span> <span class="dv">1</span></span></code></pre></div>
<p>La función <code>unique</code> devuelve cada término único que aparece en un vector. Si su vector <code>simbolos</code> contiene tres iguales (es decir, un término único que aparece tres veces), entonces <code>unique(simbolos)</code> devolverá un vector de longitud <code>1</code>.</p>
<p>Ahora que tiene una prueba que funciona, puede agregarla a la secuencia de comandos de su máquina tragamonedas:</p>
<div class="sourceCode" id="cb266"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb266-1"><a href="programs.html#cb266-1" aria-hidden="true" tabindex="-1"></a>iguales <span class="ot">&lt;-</span> simbolos[<span class="dv">1</span>] <span class="sc">==</span> simbolos[<span class="dv">2</span>] <span class="sc">&amp;&amp;</span> simbolos[<span class="dv">2</span>] <span class="sc">==</span> simbolos[<span class="dv">3</span>]</span>
<span id="cb266-2"><a href="programs.html#cb266-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb266-3"><a href="programs.html#cb266-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (iguales) {</span>
<span id="cb266-4"><a href="programs.html#cb266-4" aria-hidden="true" tabindex="-1"></a>  premio <span class="ot">&lt;-</span> <span class="co"># Buscar el premio</span></span>
<span id="cb266-5"><a href="programs.html#cb266-5" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> <span class="cf">if</span> ( <span class="co"># Caso 2: todos barras) {</span></span>
<span id="cb266-6"><a href="programs.html#cb266-6" aria-hidden="true" tabindex="-1"></a>  premio <span class="ot">&lt;-</span> <span class="co"># asignar $5</span></span>
<span id="cb266-7"><a href="programs.html#cb266-7" aria-hidden="true" tabindex="-1"></a><span class="er">}</span> <span class="cf">else</span> {</span>
<span id="cb266-8"><a href="programs.html#cb266-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># contar cerezas</span></span>
<span id="cb266-9"><a href="programs.html#cb266-9" aria-hidden="true" tabindex="-1"></a>  premio <span class="ot">&lt;-</span> <span class="co"># calcular el premio</span></span>
<span id="cb266-10"><a href="programs.html#cb266-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb266-11"><a href="programs.html#cb266-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb266-12"><a href="programs.html#cb266-12" aria-hidden="true" tabindex="-1"></a><span class="co"># contar diamantes</span></span>
<span id="cb266-13"><a href="programs.html#cb266-13" aria-hidden="true" tabindex="-1"></a><span class="co"># duplicar el premio si es necesario</span></span></code></pre></div>

<div class="rmdnote">
<code>&amp;&amp;</code> y <code>||</code> se comportan como <code>&amp;</code> y <code>|</code> pero a veces pueden ser más eficientes. Los operadores dobles no evaluarán la segunda prueba en un par de pruebas si la primera prueba aclara el resultado. Por ejemplo, si <code>simbolos[1]</code> no es igual a <code>simbolos[2]</code> en la siguiente expresión, <code>&amp;&amp;</code> no evaluará <code>simbolos[2] == simbolos[3]</code>; puede devolver inmediatamente un <code>FALSE</code> para toda la expresión (porque <code>FALSE &amp; TRUE</code> y <code>FALSE &amp; FALSE</code> ambos se evalúan como <code>FALSE</code>). Esta eficiencia puede acelerar sus programas; sin embargo, los operadores dobles no son apropiados en todas partes. <code>&amp;&amp;</code> y <code>||</code> no están vectorizados, lo que significa que solo pueden manejar una sola prueba lógica en cada lado del operador.
</div>
<p>El segundo caso de premio ocurre cuando todos los símbolos son un tipo de barra, por ejemplo, <code>B</code>, <code>BB</code> y <code>BBB</code>. Empecemos por crear un ejemplo concreto con el que trabajar:</p>
<div class="sourceCode" id="cb267"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb267-1"><a href="programs.html#cb267-1" aria-hidden="true" tabindex="-1"></a>simbolos <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;B&quot;</span>, <span class="st">&quot;BBB&quot;</span>, <span class="st">&quot;BB&quot;</span>)</span></code></pre></div>
<p><strong>Ejercicio 10.5 (Probar si todos son barras)</strong> Use los operadores lógicos y booleanos de R para escribir una prueba que determinará si un vector llamado <code>simbolos</code> contiene solo símbolos que son un tipo de barra. Compruebe si su prueba funciona con nuestro vector de <code>simbolos</code> de ejemplo. Recuerde describir cómo debería funcionar la prueba en español y luego convertir la solución a R.</p>
<div class="solution">
<p><span id="unlabeled-div-21" class="solution"><em>Solution</em>. </span>Al igual que con muchas cosas en R, hay varias formas de probar si los <code>simbolos</code> contienen todos barras. Por ejemplo, podría escribir una prueba muy larga que use múltiples operadores booleanos, como esta:</p>
</div>
<div class="sourceCode" id="cb268"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb268-1"><a href="programs.html#cb268-1" aria-hidden="true" tabindex="-1"></a>(simbolos[<span class="dv">1</span>] <span class="sc">==</span> <span class="st">&quot;B&quot;</span> <span class="sc">|</span> simbolos[<span class="dv">1</span>] <span class="sc">==</span> <span class="st">&quot;BB&quot;</span> <span class="sc">|</span> simbolos[<span class="dv">1</span>] <span class="sc">==</span> <span class="st">&quot;BBB&quot;</span>) <span class="sc">&amp;</span></span>
<span id="cb268-2"><a href="programs.html#cb268-2" aria-hidden="true" tabindex="-1"></a>  (simbolos[<span class="dv">2</span>] <span class="sc">==</span> <span class="st">&quot;B&quot;</span> <span class="sc">|</span> simbolos[<span class="dv">2</span>] <span class="sc">==</span> <span class="st">&quot;BB&quot;</span> <span class="sc">|</span> simbolos[<span class="dv">2</span>] <span class="sc">==</span> <span class="st">&quot;BBB&quot;</span>) <span class="sc">&amp;</span></span>
<span id="cb268-3"><a href="programs.html#cb268-3" aria-hidden="true" tabindex="-1"></a>  (simbolos[<span class="dv">3</span>] <span class="sc">==</span> <span class="st">&quot;B&quot;</span> <span class="sc">|</span> simbolos[<span class="dv">3</span>] <span class="sc">==</span> <span class="st">&quot;BB&quot;</span> <span class="sc">|</span> simbolos[<span class="dv">3</span>] <span class="sc">==</span> <span class="st">&quot;BBB&quot;</span>)</span>
<span id="cb268-4"><a href="programs.html#cb268-4" aria-hidden="true" tabindex="-1"></a><span class="do">## TRUE</span></span></code></pre></div>
<p>Sin embargo, esta no es una solución muy eficiente, porque R tiene que ejecutar nueve pruebas lógicas (y usted tiene que escribirlas). A menudo puede reemplazar múltiples operadores <code>|</code> con un único <code>%in%</code>. Además, puede verificar que una prueba sea verdadera para cada elemento en un vector con <code>all</code>. Estos dos cambios acortan el código anterior a:</p>
<div class="sourceCode" id="cb269"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb269-1"><a href="programs.html#cb269-1" aria-hidden="true" tabindex="-1"></a><span class="fu">all</span>(simbolos <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;B&quot;</span>, <span class="st">&quot;BB&quot;</span>, <span class="st">&quot;BBB&quot;</span>))</span>
<span id="cb269-2"><a href="programs.html#cb269-2" aria-hidden="true" tabindex="-1"></a><span class="do">## TRUE</span></span></code></pre></div>
<p>Agreguemos este código a nuestro script:</p>
<div class="sourceCode" id="cb270"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb270-1"><a href="programs.html#cb270-1" aria-hidden="true" tabindex="-1"></a>iguales <span class="ot">&lt;-</span> simbolos[<span class="dv">1</span>] <span class="sc">==</span> simbolos[<span class="dv">2</span>] <span class="sc">&amp;&amp;</span> simbolos[<span class="dv">2</span>] <span class="sc">==</span> simbolos[<span class="dv">3</span>]</span>
<span id="cb270-2"><a href="programs.html#cb270-2" aria-hidden="true" tabindex="-1"></a>barras <span class="ot">&lt;-</span> simbolos <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;B&quot;</span>, <span class="st">&quot;BB&quot;</span>, <span class="st">&quot;BBB&quot;</span>)</span>
<span id="cb270-3"><a href="programs.html#cb270-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb270-4"><a href="programs.html#cb270-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (iguales) {</span>
<span id="cb270-5"><a href="programs.html#cb270-5" aria-hidden="true" tabindex="-1"></a>  prize <span class="ot">&lt;-</span> <span class="co"># Buscar el premio</span></span>
<span id="cb270-6"><a href="programs.html#cb270-6" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> <span class="cf">if</span> (<span class="fu">all</span>(barras)) {</span>
<span id="cb270-7"><a href="programs.html#cb270-7" aria-hidden="true" tabindex="-1"></a>  prize <span class="ot">&lt;-</span> <span class="co"># asiganr $5</span></span>
<span id="cb270-8"><a href="programs.html#cb270-8" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb270-9"><a href="programs.html#cb270-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># contar cerezas</span></span>
<span id="cb270-10"><a href="programs.html#cb270-10" aria-hidden="true" tabindex="-1"></a>  premio <span class="ot">&lt;-</span> <span class="co"># calcular el premio</span></span>
<span id="cb270-11"><a href="programs.html#cb270-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb270-12"><a href="programs.html#cb270-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb270-13"><a href="programs.html#cb270-13" aria-hidden="true" tabindex="-1"></a><span class="co"># contar diamantes</span></span>
<span id="cb270-14"><a href="programs.html#cb270-14" aria-hidden="true" tabindex="-1"></a><span class="co"># duplicar el premio si es necesario</span></span></code></pre></div>
<p>Es posible que haya notado que dividí esta prueba en dos pasos, <code>barras</code> y <code>all(barras)</code>. Eso es solo una cuestión de preferencia personal. Siempre que sea posible, me gusta escribir mi código para que pueda leerse con nombres de funciones y objetos que transmitan lo que hacen.</p>
<p>También puede haber notado que nuestra prueba para el Caso 2 capturará algunos símbolos que deberían estar en el Caso 1 porque contienen tres de una clase:</p>
<div class="sourceCode" id="cb271"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb271-1"><a href="programs.html#cb271-1" aria-hidden="true" tabindex="-1"></a>simbolos <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;B&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;B&quot;</span>)</span>
<span id="cb271-2"><a href="programs.html#cb271-2" aria-hidden="true" tabindex="-1"></a><span class="fu">all</span>(simbolos <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;B&quot;</span>, <span class="st">&quot;BB&quot;</span>, <span class="st">&quot;BBB&quot;</span>))</span>
<span id="cb271-3"><a href="programs.html#cb271-3" aria-hidden="true" tabindex="-1"></a><span class="do">## TRUE</span></span></code></pre></div>
<p>Eso no será un problema, sin embargo, porque hemos conectado nuestros casos con <code>else if</code> en el árbol <code>if</code>. Tan pronto como R llegue a un caso que se evalúe como <code>VERDADERO</code>, se saltará el resto del árbol. Piénselo de esta manera: cada <code>else</code> le dice a R que solo ejecute el código que le sigue <em>si no se ha cumplido ninguna de las condiciones anteriores</em>. Entonces, cuando tenemos tres del mismo tipo de barra, R evaluará el código para el Caso 1 y luego omitirá el código para el Caso 2 (y el Caso 3).</p>
<p>Nuestra próxima subtarea es asignar un premio a los <code>simbolos</code>. Cuando el vector de <code>simbolos</code> contiene tres del mismo símbolo, el premio dependerá de qué símbolo haya tres. Si hay tres <code>DD</code>s, el premio será de $100; si hay tres <code>7</code>s, el premio será de $80; y así.</p>
<p>Esto sugiere otro árbol <code>if</code>. Podrías asignar un premio con algún código como este:</p>
<div class="sourceCode" id="cb272"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb272-1"><a href="programs.html#cb272-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (iguales) {</span>
<span id="cb272-2"><a href="programs.html#cb272-2" aria-hidden="true" tabindex="-1"></a>  simbolo <span class="ot">&lt;-</span> simbolos[<span class="dv">1</span>]</span>
<span id="cb272-3"><a href="programs.html#cb272-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (simbolo <span class="sc">==</span> <span class="st">&quot;DD&quot;</span>) {</span>
<span id="cb272-4"><a href="programs.html#cb272-4" aria-hidden="true" tabindex="-1"></a>    premmio <span class="ot">&lt;-</span> <span class="dv">800</span></span>
<span id="cb272-5"><a href="programs.html#cb272-5" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (simbolo <span class="sc">==</span> <span class="st">&quot;7&quot;</span>) {</span>
<span id="cb272-6"><a href="programs.html#cb272-6" aria-hidden="true" tabindex="-1"></a>    premio <span class="ot">&lt;-</span> <span class="dv">80</span></span>
<span id="cb272-7"><a href="programs.html#cb272-7" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (simbolo <span class="sc">==</span> <span class="st">&quot;BBB&quot;</span>) {</span>
<span id="cb272-8"><a href="programs.html#cb272-8" aria-hidden="true" tabindex="-1"></a>    premio <span class="ot">&lt;-</span> <span class="dv">40</span></span>
<span id="cb272-9"><a href="programs.html#cb272-9" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (simbolo <span class="sc">==</span> <span class="st">&quot;BB&quot;</span>) {</span>
<span id="cb272-10"><a href="programs.html#cb272-10" aria-hidden="true" tabindex="-1"></a>    premio <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb272-11"><a href="programs.html#cb272-11" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (simbolo <span class="sc">==</span> <span class="st">&quot;B&quot;</span>) {</span>
<span id="cb272-12"><a href="programs.html#cb272-12" aria-hidden="true" tabindex="-1"></a>    premio <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb272-13"><a href="programs.html#cb272-13" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (simbolo <span class="sc">==</span> <span class="st">&quot;C&quot;</span>) {</span>
<span id="cb272-14"><a href="programs.html#cb272-14" aria-hidden="true" tabindex="-1"></a>    premio <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb272-15"><a href="programs.html#cb272-15" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (simbol <span class="sc">==</span> <span class="st">&quot;0&quot;</span>) {</span>
<span id="cb272-16"><a href="programs.html#cb272-16" aria-hidden="true" tabindex="-1"></a>    premio <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb272-17"><a href="programs.html#cb272-17" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb272-18"><a href="programs.html#cb272-18" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Si bien este código funcionará, es un poco largo de escribir y leer, y puede requerir que R realice varias pruebas lógicas antes de entregar el premio correcto. Podemos hacerlo mejor con un método diferente.</p>
</div>
<div id="tablas-de-búsqueda" class="section level2 hasAnchor" number="10.4">
<h2><span class="header-section-number">10.4</span> Tablas de Búsqueda<a href="programs.html#tablas-de-búsqueda" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Muy a menudo en R, la forma más sencilla de hacer algo implicará la creación de subconjuntos. ¿Cómo podrías usar subconjuntos aquí? Como conoce la relación exacta entre los símbolos y sus premios, puede crear un vector que capture esta información. Este vector puede almacenar símbolos como nombres y valores de premios como elementos:</p>
<div class="sourceCode" id="cb273"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb273-1"><a href="programs.html#cb273-1" aria-hidden="true" tabindex="-1"></a>pagos <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;DD&quot;</span> <span class="ot">=</span> <span class="dv">100</span>, <span class="st">&quot;7&quot;</span> <span class="ot">=</span> <span class="dv">80</span>, <span class="st">&quot;BBB&quot;</span> <span class="ot">=</span> <span class="dv">40</span>, <span class="st">&quot;BB&quot;</span> <span class="ot">=</span> <span class="dv">25</span>, </span>
<span id="cb273-2"><a href="programs.html#cb273-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;B&quot;</span> <span class="ot">=</span> <span class="dv">10</span>, <span class="st">&quot;C&quot;</span> <span class="ot">=</span> <span class="dv">10</span>, <span class="st">&quot;0&quot;</span> <span class="ot">=</span> <span class="dv">0</span>)</span>
<span id="cb273-3"><a href="programs.html#cb273-3" aria-hidden="true" tabindex="-1"></a>pagos</span>
<span id="cb273-4"><a href="programs.html#cb273-4" aria-hidden="true" tabindex="-1"></a><span class="do">##  DD   7 BBB  BB   B   C   0 </span></span>
<span id="cb273-5"><a href="programs.html#cb273-5" aria-hidden="true" tabindex="-1"></a><span class="do">## 100  80  40  25  10  10   0 </span></span></code></pre></div>
<p>Ahora puede extraer el premio correcto para cualquier símbolo subdividiendo el vector con el nombre del símbolo:</p>
<div class="sourceCode" id="cb274"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb274-1"><a href="programs.html#cb274-1" aria-hidden="true" tabindex="-1"></a>pagos[<span class="st">&quot;DD&quot;</span>]</span>
<span id="cb274-2"><a href="programs.html#cb274-2" aria-hidden="true" tabindex="-1"></a><span class="do">##  DD </span></span>
<span id="cb274-3"><a href="programs.html#cb274-3" aria-hidden="true" tabindex="-1"></a><span class="do">## 100 </span></span>
<span id="cb274-4"><a href="programs.html#cb274-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb274-5"><a href="programs.html#cb274-5" aria-hidden="true" tabindex="-1"></a>pagos[<span class="st">&quot;B&quot;</span>]</span>
<span id="cb274-6"><a href="programs.html#cb274-6" aria-hidden="true" tabindex="-1"></a><span class="do">##  B</span></span>
<span id="cb274-7"><a href="programs.html#cb274-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 10</span></span></code></pre></div>
<p>Si desea dejar atrás el nombre del símbolo al crear subconjuntos, puede ejecutar la función <code>unname</code> en la salida:</p>
<div class="sourceCode" id="cb275"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb275-1"><a href="programs.html#cb275-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unname</span>(pagos[<span class="st">&quot;DD&quot;</span>])</span>
<span id="cb275-2"><a href="programs.html#cb275-2" aria-hidden="true" tabindex="-1"></a><span class="do">## 100 </span></span></code></pre></div>
<p><code>unname</code> devuelve una copia de un objeto con el atributo de nombres eliminado.</p>
<p><code>pagos</code> es un tipo de <em>tabla de búsqueda</em>, un objeto de R que puede usar para buscar valores. Subdividir <code>pagos</code> proporciona una forma sencilla de encontrar el premio de un símbolo. No requiere muchas líneas de código y hace la misma cantidad de trabajo ya sea que su símbolo sea <code>DD</code> o <code>0</code>. Puede crear tablas de búsqueda en R mediante la creación de objetos con nombre que se pueden dividir en subconjuntos de formas inteligentes.</p>
<p>Lamentablemente, nuestro método no es del todo automático; necesitamos decirle a R qué símbolo buscar en <code>pagos</code>. ¿Tenemos? ¿Qué pasaría si dividieras los <code>pagos</code> por <code>simbolos[1]</code>? Probemos:</p>
<div class="sourceCode" id="cb276"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb276-1"><a href="programs.html#cb276-1" aria-hidden="true" tabindex="-1"></a>simbolos <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;7&quot;</span>, <span class="st">&quot;7&quot;</span>, <span class="st">&quot;7&quot;</span>)</span>
<span id="cb276-2"><a href="programs.html#cb276-2" aria-hidden="true" tabindex="-1"></a>simbolos[<span class="dv">1</span>]</span>
<span id="cb276-3"><a href="programs.html#cb276-3" aria-hidden="true" tabindex="-1"></a><span class="do">## &quot;7&quot;</span></span>
<span id="cb276-4"><a href="programs.html#cb276-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb276-5"><a href="programs.html#cb276-5" aria-hidden="true" tabindex="-1"></a>pagos[simbolos[<span class="dv">1</span>]]</span>
<span id="cb276-6"><a href="programs.html#cb276-6" aria-hidden="true" tabindex="-1"></a><span class="do">##  7 </span></span>
<span id="cb276-7"><a href="programs.html#cb276-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 80 </span></span>
<span id="cb276-8"><a href="programs.html#cb276-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb276-9"><a href="programs.html#cb276-9" aria-hidden="true" tabindex="-1"></a>simbolos <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;C&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;C&quot;</span>)</span>
<span id="cb276-10"><a href="programs.html#cb276-10" aria-hidden="true" tabindex="-1"></a>pagos[simbolos[<span class="dv">1</span>]]</span>
<span id="cb276-11"><a href="programs.html#cb276-11" aria-hidden="true" tabindex="-1"></a><span class="do">##  C </span></span>
<span id="cb276-12"><a href="programs.html#cb276-12" aria-hidden="true" tabindex="-1"></a><span class="do">## 10 </span></span></code></pre></div>
<p>No necesita saber el símbolo exacto para buscar porque puede decirle a R que busque cualquier símbolo que esté en <code>simbolos</code>. Puede encontrar este símbolo con <code>simbolos[1]</code>, <code>simbolos[2]</code> o <code>simbolos[3]</code>, porque cada uno contiene el mismo símbolo en este caso. Ahora tiene una forma sencilla y automatizada de calcular el premio cuando los <code>simbolos</code> contienen tres iguales. Vamos a agregarlo a nuestro código y luego veamos el Caso 2:</p>
<div class="sourceCode" id="cb277"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb277-1"><a href="programs.html#cb277-1" aria-hidden="true" tabindex="-1"></a>iguales <span class="ot">&lt;-</span> simbolos[<span class="dv">1</span>] <span class="sc">==</span> simbolos[<span class="dv">2</span>] <span class="sc">&amp;&amp;</span> simbolos[<span class="dv">2</span>] <span class="sc">==</span> simbolos[<span class="dv">3</span>]</span>
<span id="cb277-2"><a href="programs.html#cb277-2" aria-hidden="true" tabindex="-1"></a>barras <span class="ot">&lt;-</span> simbolos <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;B&quot;</span>, <span class="st">&quot;BB&quot;</span>, <span class="st">&quot;BBB&quot;</span>)</span>
<span id="cb277-3"><a href="programs.html#cb277-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb277-4"><a href="programs.html#cb277-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (iguales) {</span>
<span id="cb277-5"><a href="programs.html#cb277-5" aria-hidden="true" tabindex="-1"></a>  pagos <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;DD&quot;</span> <span class="ot">=</span> <span class="dv">100</span>, <span class="st">&quot;7&quot;</span> <span class="ot">=</span> <span class="dv">80</span>, <span class="st">&quot;BBB&quot;</span> <span class="ot">=</span> <span class="dv">40</span>, <span class="st">&quot;BB&quot;</span> <span class="ot">=</span> <span class="dv">25</span>, </span>
<span id="cb277-6"><a href="programs.html#cb277-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;B&quot;</span> <span class="ot">=</span> <span class="dv">10</span>, <span class="st">&quot;C&quot;</span> <span class="ot">=</span> <span class="dv">10</span>, <span class="st">&quot;0&quot;</span> <span class="ot">=</span> <span class="dv">0</span>)</span>
<span id="cb277-7"><a href="programs.html#cb277-7" aria-hidden="true" tabindex="-1"></a>  premio <span class="ot">&lt;-</span> <span class="fu">unname</span>(pagos[simbolos[<span class="dv">1</span>]])</span>
<span id="cb277-8"><a href="programs.html#cb277-8" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> <span class="cf">if</span> (<span class="fu">all</span>(barras)) {</span>
<span id="cb277-9"><a href="programs.html#cb277-9" aria-hidden="true" tabindex="-1"></a>  premio <span class="ot">&lt;-</span> <span class="co"># asignar $5</span></span>
<span id="cb277-10"><a href="programs.html#cb277-10" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb277-11"><a href="programs.html#cb277-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># contar cerezas</span></span>
<span id="cb277-12"><a href="programs.html#cb277-12" aria-hidden="true" tabindex="-1"></a>  premio <span class="ot">&lt;-</span> <span class="co"># calcular el premio</span></span>
<span id="cb277-13"><a href="programs.html#cb277-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb277-14"><a href="programs.html#cb277-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb277-15"><a href="programs.html#cb277-15" aria-hidden="true" tabindex="-1"></a><span class="co"># contar diamantes</span></span>
<span id="cb277-16"><a href="programs.html#cb277-16" aria-hidden="true" tabindex="-1"></a><span class="co"># duplicar el premio si es necesario</span></span></code></pre></div>
<p>El caso 2 ocurre cuando los símbolos son todos barras. En ese caso, el premio será de $5, que es fácil de asignar:</p>
<div class="sourceCode" id="cb278"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb278-1"><a href="programs.html#cb278-1" aria-hidden="true" tabindex="-1"></a>iguales <span class="ot">&lt;-</span> simbolos[<span class="dv">1</span>] <span class="sc">==</span> simbolos[<span class="dv">2</span>] <span class="sc">&amp;&amp;</span> simbolos[<span class="dv">2</span>] <span class="sc">==</span> simbolos[<span class="dv">3</span>]</span>
<span id="cb278-2"><a href="programs.html#cb278-2" aria-hidden="true" tabindex="-1"></a>barras <span class="ot">&lt;-</span> simbolos <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;B&quot;</span>, <span class="st">&quot;BB&quot;</span>, <span class="st">&quot;BBB&quot;</span>)</span>
<span id="cb278-3"><a href="programs.html#cb278-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb278-4"><a href="programs.html#cb278-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (iguales) {</span>
<span id="cb278-5"><a href="programs.html#cb278-5" aria-hidden="true" tabindex="-1"></a>  pagos <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;DD&quot;</span> <span class="ot">=</span> <span class="dv">100</span>, <span class="st">&quot;7&quot;</span> <span class="ot">=</span> <span class="dv">80</span>, <span class="st">&quot;BBB&quot;</span> <span class="ot">=</span> <span class="dv">40</span>, <span class="st">&quot;BB&quot;</span> <span class="ot">=</span> <span class="dv">25</span>, </span>
<span id="cb278-6"><a href="programs.html#cb278-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;B&quot;</span> <span class="ot">=</span> <span class="dv">10</span>, <span class="st">&quot;C&quot;</span> <span class="ot">=</span> <span class="dv">10</span>, <span class="st">&quot;0&quot;</span> <span class="ot">=</span> <span class="dv">0</span>)</span>
<span id="cb278-7"><a href="programs.html#cb278-7" aria-hidden="true" tabindex="-1"></a>  premio <span class="ot">&lt;-</span> <span class="fu">unname</span>(pagos[simbolos[<span class="dv">1</span>]])</span>
<span id="cb278-8"><a href="programs.html#cb278-8" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> <span class="cf">if</span> (<span class="fu">all</span>(barras)) {</span>
<span id="cb278-9"><a href="programs.html#cb278-9" aria-hidden="true" tabindex="-1"></a>  premio <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb278-10"><a href="programs.html#cb278-10" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb278-11"><a href="programs.html#cb278-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># contar cerezas</span></span>
<span id="cb278-12"><a href="programs.html#cb278-12" aria-hidden="true" tabindex="-1"></a>  premio <span class="ot">&lt;-</span> <span class="co"># calcular el premio</span></span>
<span id="cb278-13"><a href="programs.html#cb278-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb278-14"><a href="programs.html#cb278-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb278-15"><a href="programs.html#cb278-15" aria-hidden="true" tabindex="-1"></a><span class="co"># contar diamantes</span></span>
<span id="cb278-16"><a href="programs.html#cb278-16" aria-hidden="true" tabindex="-1"></a><span class="co"># duplicar el premio si es necesario</span></span></code></pre></div>
<p>Ahora podemos trabajar en el último caso. Aquí, necesitará saber cuántas cerezas hay en los <code>simbolos</code> antes de poder calcular un premio.</p>
<p><strong>Ejercicio 10.6 (Encuentra las C)</strong> ¿Cómo puedes saber qué elementos de un vector llamado <code>simbolos</code> son una <code>C</code>? Diseñe una prueba y pruébela.</p>

<div class="rmdnote">
<p><strong>Desafío</strong></p>
¿Cómo podrías contar el número de ‘C’ en un vector llamado ‘símbolos’? Recuerda las reglas de coerción de R.
</div>
<div class="solution">
<p><span id="unlabeled-div-22" class="solution"><em>Solution</em>. </span>Como siempre, trabajemos con un ejemplo real:</p>
</div>
<div class="sourceCode" id="cb279"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb279-1"><a href="programs.html#cb279-1" aria-hidden="true" tabindex="-1"></a>simbolos <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;C&quot;</span>, <span class="st">&quot;DD&quot;</span>, <span class="st">&quot;C&quot;</span>)</span></code></pre></div>
<p>Una forma de probar las cerezas sería verificar cuál de los símbolos, si alguno, es una <code>C</code>:</p>
<div class="sourceCode" id="cb280"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb280-1"><a href="programs.html#cb280-1" aria-hidden="true" tabindex="-1"></a>simbolos <span class="sc">==</span> <span class="st">&quot;C&quot;</span></span>
<span id="cb280-2"><a href="programs.html#cb280-2" aria-hidden="true" tabindex="-1"></a><span class="do">## TRUE FALSE  TRUE</span></span></code></pre></div>
<p>Sería aún más útil contar cuántos de los símbolos son cerezas. Puede hacer esto con <code>sum</code>, que espera una entrada numérica, no lógica. Sabiendo esto, R forzará los <code>TRUE</code> y <code>FALSE</code> a <code>1</code> y <code>0</code> antes de hacer la suma. Como resultado, <code>sum</code> devolverá el número de <code>TRUE</code>, que también es el número de cerezas:</p>
<div class="sourceCode" id="cb281"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb281-1"><a href="programs.html#cb281-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(simbolos <span class="sc">==</span> <span class="st">&quot;C&quot;</span>)</span>
<span id="cb281-2"><a href="programs.html#cb281-2" aria-hidden="true" tabindex="-1"></a><span class="do">## 2</span></span></code></pre></div>
<p>Puede usar el mismo método para contar la cantidad de diamantes en <code>simbolos</code>:</p>
<div class="sourceCode" id="cb282"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb282-1"><a href="programs.html#cb282-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(simbolos <span class="sc">==</span> <span class="st">&quot;DD&quot;</span>)</span>
<span id="cb282-2"><a href="programs.html#cb282-2" aria-hidden="true" tabindex="-1"></a><span class="do">## 1</span></span></code></pre></div>
<p>Agreguemos estas dos subtareas al esqueleto del programa:</p>
<div class="sourceCode" id="cb283"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb283-1"><a href="programs.html#cb283-1" aria-hidden="true" tabindex="-1"></a>iguales <span class="ot">&lt;-</span> simbolos[<span class="dv">1</span>] <span class="sc">==</span> simbolos[<span class="dv">2</span>] <span class="sc">&amp;&amp;</span> simbolos[<span class="dv">2</span>] <span class="sc">==</span> simbolos[<span class="dv">3</span>]</span>
<span id="cb283-2"><a href="programs.html#cb283-2" aria-hidden="true" tabindex="-1"></a>barras <span class="ot">&lt;-</span> simbolos <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;B&quot;</span>, <span class="st">&quot;BB&quot;</span>, <span class="st">&quot;BBB&quot;</span>)</span>
<span id="cb283-3"><a href="programs.html#cb283-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb283-4"><a href="programs.html#cb283-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (iguales) {</span>
<span id="cb283-5"><a href="programs.html#cb283-5" aria-hidden="true" tabindex="-1"></a>  pagos <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;DD&quot;</span> <span class="ot">=</span> <span class="dv">100</span>, <span class="st">&quot;7&quot;</span> <span class="ot">=</span> <span class="dv">80</span>, <span class="st">&quot;BBB&quot;</span> <span class="ot">=</span> <span class="dv">40</span>, <span class="st">&quot;BB&quot;</span> <span class="ot">=</span> <span class="dv">25</span>, </span>
<span id="cb283-6"><a href="programs.html#cb283-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;B&quot;</span> <span class="ot">=</span> <span class="dv">10</span>, <span class="st">&quot;C&quot;</span> <span class="ot">=</span> <span class="dv">10</span>, <span class="st">&quot;0&quot;</span> <span class="ot">=</span> <span class="dv">0</span>)</span>
<span id="cb283-7"><a href="programs.html#cb283-7" aria-hidden="true" tabindex="-1"></a>  premio <span class="ot">&lt;-</span> <span class="fu">unname</span>(pagos[simbolos[<span class="dv">1</span>]])</span>
<span id="cb283-8"><a href="programs.html#cb283-8" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> <span class="cf">if</span> (<span class="fu">all</span>(barras)) {</span>
<span id="cb283-9"><a href="programs.html#cb283-9" aria-hidden="true" tabindex="-1"></a>  premio <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb283-10"><a href="programs.html#cb283-10" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb283-11"><a href="programs.html#cb283-11" aria-hidden="true" tabindex="-1"></a>  cerezas <span class="ot">&lt;-</span> <span class="fu">sum</span>(simbolos <span class="sc">==</span> <span class="st">&quot;C&quot;</span>)</span>
<span id="cb283-12"><a href="programs.html#cb283-12" aria-hidden="true" tabindex="-1"></a>  premio <span class="ot">&lt;-</span> <span class="co"># calcular el premio</span></span>
<span id="cb283-13"><a href="programs.html#cb283-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb283-14"><a href="programs.html#cb283-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb283-15"><a href="programs.html#cb283-15" aria-hidden="true" tabindex="-1"></a>diamantes <span class="ot">&lt;-</span> <span class="fu">sum</span>(simbolos <span class="sc">==</span> <span class="st">&quot;DD&quot;</span>)</span>
<span id="cb283-16"><a href="programs.html#cb283-16" aria-hidden="true" tabindex="-1"></a><span class="co"># duplicar el premio si es necesario</span></span></code></pre></div>
<p>Dado que el Caso 3 aparece más abajo en el árbol <code>if</code> que los Casos 1 y 2, el código del Caso 3 solo se aplicará a los jugadores que no tengan trío o todas las barras. De acuerdo con el esquema de pagos de la máquina tragamonedas, estos jugadores ganarán $5 si tienen dos cerezas y $2 si tienen una cereza. Si el jugador no tiene cerezas, obtiene un premio de $0. No necesitamos preocuparnos por tres cerezas porque ese resultado ya está cubierto en el Caso 1.</p>
<p>Como en el Caso 1, podría escribir un árbol <code>if</code> que maneje cada combinación de cerezas, pero al igual que en el Caso 1, esta sería una solución ineficiente:</p>
<div class="sourceCode" id="cb284"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb284-1"><a href="programs.html#cb284-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (cerezas <span class="sc">==</span> <span class="dv">2</span>) {</span>
<span id="cb284-2"><a href="programs.html#cb284-2" aria-hidden="true" tabindex="-1"></a>  premio <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb284-3"><a href="programs.html#cb284-3" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> <span class="cf">if</span> (cerezas <span class="sc">==</span> <span class="dv">1</span>) {</span>
<span id="cb284-4"><a href="programs.html#cb284-4" aria-hidden="true" tabindex="-1"></a>  premio <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb284-5"><a href="programs.html#cb284-5" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {}</span>
<span id="cb284-6"><a href="programs.html#cb284-6" aria-hidden="true" tabindex="-1"></a>  premio <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb284-7"><a href="programs.html#cb284-7" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code></pre></div>
<p>Nuevamente, creo que la mejor solución implicará subconjuntos. Si se siente ambicioso, puede intentar resolver esta solución por su cuenta, pero aprenderá con la misma rapidez trabajando mentalmente en la siguiente solución propuesta.</p>
<p>Sabemos que nuestro premio debe ser $0 si no tenemos cerezas, $2 si tenemos una cereza y $5 si tenemos dos cerezas. Puede crear un vector que contenga esta información. Esta será una tabla de búsqueda muy simple:</p>
<div class="sourceCode" id="cb285"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb285-1"><a href="programs.html#cb285-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">5</span>)</span></code></pre></div>
<p>Ahora, como en el Caso 1, puede crear subconjuntos del vector para recuperar el premio correcto. En este caso, los premios no se identifican con el nombre de un símbolo, sino con el número de cerezas presentes. ¿Tenemos esa información? Sí, se almacena en <code>cerezas</code>. Podemos usar subconjuntos enteros básicos para obtener el premio correcto de la tabla de búsqueda anterior, por ejemplo, <code>c(0, 2, 5)[1]</code>.</p>
<p><code>cerezas</code> no es exactamente adecuado para subconjuntos enteros porque podría contener un cero, pero eso es fácil de arreglar. Podemos crear un subconjunto con <code>cerezas + 1</code>. Ahora, cuando <code>cerezas</code> es igual a cero, tenemos:</p>
<div class="sourceCode" id="cb286"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb286-1"><a href="programs.html#cb286-1" aria-hidden="true" tabindex="-1"></a>cerezas <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb286-2"><a href="programs.html#cb286-2" aria-hidden="true" tabindex="-1"></a><span class="do">## 1</span></span>
<span id="cb286-3"><a href="programs.html#cb286-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb286-4"><a href="programs.html#cb286-4" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">5</span>)[cerezas <span class="sc">+</span> <span class="dv">1</span>]</span>
<span id="cb286-5"><a href="programs.html#cb286-5" aria-hidden="true" tabindex="-1"></a><span class="do">## 0</span></span></code></pre></div>
<p>Cuando <code>cerezas</code> es igual a uno, tenemos:</p>
<div class="sourceCode" id="cb287"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb287-1"><a href="programs.html#cb287-1" aria-hidden="true" tabindex="-1"></a>cerezas <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb287-2"><a href="programs.html#cb287-2" aria-hidden="true" tabindex="-1"></a><span class="do">## 2</span></span>
<span id="cb287-3"><a href="programs.html#cb287-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb287-4"><a href="programs.html#cb287-4" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">5</span>)[cerezas <span class="sc">+</span> <span class="dv">1</span>]</span>
<span id="cb287-5"><a href="programs.html#cb287-5" aria-hidden="true" tabindex="-1"></a><span class="do">## 2</span></span></code></pre></div>
<p>Y cuando <code>cerezas</code> es igual a dos, tenemos:</p>
<div class="sourceCode" id="cb288"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb288-1"><a href="programs.html#cb288-1" aria-hidden="true" tabindex="-1"></a>cerezas <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb288-2"><a href="programs.html#cb288-2" aria-hidden="true" tabindex="-1"></a><span class="do">## 3</span></span>
<span id="cb288-3"><a href="programs.html#cb288-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb288-4"><a href="programs.html#cb288-4" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">5</span>)[cerezas <span class="sc">+</span> <span class="dv">1</span>]</span>
<span id="cb288-5"><a href="programs.html#cb288-5" aria-hidden="true" tabindex="-1"></a><span class="do">## 5</span></span></code></pre></div>
<p>Examine estas soluciones hasta que esté seguro de que arrojan el premio correcto por cada número de cerezas. Luego agregue el código a su secuencia de comandos, de la siguiente manera:</p>
<div class="sourceCode" id="cb289"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb289-1"><a href="programs.html#cb289-1" aria-hidden="true" tabindex="-1"></a>iguales <span class="ot">&lt;-</span> simbolos[<span class="dv">1</span>] <span class="sc">==</span> simbolos[<span class="dv">2</span>] <span class="sc">&amp;&amp;</span> simbolos[<span class="dv">2</span>] <span class="sc">==</span> simbolos[<span class="dv">3</span>]</span>
<span id="cb289-2"><a href="programs.html#cb289-2" aria-hidden="true" tabindex="-1"></a>barras <span class="ot">&lt;-</span> simbolos <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;B&quot;</span>, <span class="st">&quot;BB&quot;</span>, <span class="st">&quot;BBB&quot;</span>)</span>
<span id="cb289-3"><a href="programs.html#cb289-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb289-4"><a href="programs.html#cb289-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (iguales) {</span>
<span id="cb289-5"><a href="programs.html#cb289-5" aria-hidden="true" tabindex="-1"></a>  pagos <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;DD&quot;</span> <span class="ot">=</span> <span class="dv">100</span>, <span class="st">&quot;7&quot;</span> <span class="ot">=</span> <span class="dv">80</span>, <span class="st">&quot;BBB&quot;</span> <span class="ot">=</span> <span class="dv">40</span>, <span class="st">&quot;BB&quot;</span> <span class="ot">=</span> <span class="dv">25</span>, </span>
<span id="cb289-6"><a href="programs.html#cb289-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;B&quot;</span> <span class="ot">=</span> <span class="dv">10</span>, <span class="st">&quot;C&quot;</span> <span class="ot">=</span> <span class="dv">10</span>, <span class="st">&quot;0&quot;</span> <span class="ot">=</span> <span class="dv">0</span>)</span>
<span id="cb289-7"><a href="programs.html#cb289-7" aria-hidden="true" tabindex="-1"></a>  premio <span class="ot">&lt;-</span> <span class="fu">unname</span>(pagos[simbolos[<span class="dv">1</span>]])</span>
<span id="cb289-8"><a href="programs.html#cb289-8" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> <span class="cf">if</span> (<span class="fu">all</span>(barras)) {</span>
<span id="cb289-9"><a href="programs.html#cb289-9" aria-hidden="true" tabindex="-1"></a>  premio <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb289-10"><a href="programs.html#cb289-10" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb289-11"><a href="programs.html#cb289-11" aria-hidden="true" tabindex="-1"></a>  cerezas <span class="ot">&lt;-</span> <span class="fu">sum</span>(simbolos <span class="sc">==</span> <span class="st">&quot;C&quot;</span>)</span>
<span id="cb289-12"><a href="programs.html#cb289-12" aria-hidden="true" tabindex="-1"></a>  premio <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">5</span>)[cerezas <span class="sc">+</span> <span class="dv">1</span>]</span>
<span id="cb289-13"><a href="programs.html#cb289-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb289-14"><a href="programs.html#cb289-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb289-15"><a href="programs.html#cb289-15" aria-hidden="true" tabindex="-1"></a>diamantes <span class="ot">&lt;-</span> <span class="fu">sum</span>(simbolos <span class="sc">==</span> <span class="st">&quot;DD&quot;</span>)</span>
<span id="cb289-16"><a href="programs.html#cb289-16" aria-hidden="true" tabindex="-1"></a><span class="co"># duplicar el premio si es necesario</span></span></code></pre></div>

<div class="rmdimportant">
<p><strong>Tablas de Búsqueda vs Árboles if</strong></p>
<p>Esta es la segunda vez que creamos una tabla de búsqueda para evitar escribir un árbol <code>if</code>. ¿Por qué es útil esta técnica y por qué sigue apareciendo? Muchos árboles <code>if</code> en R son esenciales. Proporcionan una forma útil de decirle a R que use diferentes algoritmos en diferentes casos. Sin embargo, los árboles <code>if</code> no son apropiados en todas partes.</p>
<p>Los <code>if</code> árboles tienen un par de inconvenientes. En primer lugar, requieren que R ejecute varias pruebas a medida que avanza por el árbol <code>if</code>, lo que puede generar trabajo innecesario. En segundo lugar, como verá en <a href="speed.html#speed">Velocidad</a>, puede ser difícil usar árboles <code>if</code> en código vectorizado, un estilo de código que aprovecha las fortalezas de programación de R para crear programas rápidos. Las tablas de búsqueda no sufren ninguno de estos inconvenientes.</p>
<p>No podrá reemplazar cada árbol <code>if</code> con una tabla de búsqueda, ni debería hacerlo. Sin embargo, generalmente puede usar tablas de búsqueda para evitar asignar variables con árboles <code>if</code>. Como regla general, use un árbol <code>if</code> si cada rama del árbol ejecuta un <em>código</em> diferente. Use una tabla de búsqueda si cada rama del árbol solo asigna un <em>valor</em> diferente.</p>
Para convertir un árbol <code>if</code> en una tabla de búsqueda, identifique los valores que se asignarán y guárdelos en un vector. A continuación, identifique los criterios de selección utilizados en las condiciones del árbol <code>if</code>. Si las condiciones usan cadenas de caracteres, proporcione los nombres de sus vectores y use subconjuntos basados en nombres. Si las condiciones usan números enteros, use subconjuntos basados en números enteros.
</div>
<p>La subtarea final es duplicar el premio una vez por cada diamante presente. Esto significa que el premio final será un múltiplo del premio actual. Por ejemplo, si no hay diamantes presentes, el premio será:</p>
<div class="sourceCode" id="cb290"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb290-1"><a href="programs.html#cb290-1" aria-hidden="true" tabindex="-1"></a>premio <span class="sc">*</span> <span class="dv">1</span>      <span class="co"># 1 = 2 ^ 0</span></span></code></pre></div>
<p>Si un diamante está presente, será:</p>
<div class="sourceCode" id="cb291"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb291-1"><a href="programs.html#cb291-1" aria-hidden="true" tabindex="-1"></a>premio <span class="sc">*</span> <span class="dv">2</span>      <span class="co"># 2 = 2 ^ 1</span></span></code></pre></div>
<p>Si hay dos diamantes presentes, será:</p>
<div class="sourceCode" id="cb292"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb292-1"><a href="programs.html#cb292-1" aria-hidden="true" tabindex="-1"></a>premio <span class="sc">*</span> <span class="dv">4</span>      <span class="co"># 4 = 2 ^ 2</span></span></code></pre></div>
<p>Y si hay tres diamantes presentes, será:</p>
<div class="sourceCode" id="cb293"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb293-1"><a href="programs.html#cb293-1" aria-hidden="true" tabindex="-1"></a>premio <span class="sc">*</span> <span class="dv">8</span>      <span class="co"># 8 = 2 ^ 3</span></span></code></pre></div>
<p>¿Puedes pensar en una manera fácil de manejar esto? ¿Qué tal algo similar a estos ejemplos?</p>
<p><strong>Ejercicio 10.7 (Adjuste para Diamantes)</strong> Escribe un método para ajustar el <code>premio</code> basado en <code>diamantes</code>. Describa primero una solución en español y luego escriba su código.</p>
<div class="solution">
<p><span id="unlabeled-div-23" class="solution"><em>Solution</em>. </span>Aquí hay una solución concisa inspirada en el patrón anterior. El premio ajustado será igual a:</p>
</div>
<div class="sourceCode" id="cb294"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb294-1"><a href="programs.html#cb294-1" aria-hidden="true" tabindex="-1"></a>premio <span class="sc">*</span> <span class="dv">2</span> <span class="sc">^</span> diamantes</span></code></pre></div>
<p>lo que nos da nuestro script final de <code>puntuacion</code>:</p>
<div class="sourceCode" id="cb295"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb295-1"><a href="programs.html#cb295-1" aria-hidden="true" tabindex="-1"></a>iguales <span class="ot">&lt;-</span> simbolos[<span class="dv">1</span>] <span class="sc">==</span> simbolos[<span class="dv">2</span>] <span class="sc">&amp;&amp;</span> simbolos[<span class="dv">2</span>] <span class="sc">==</span> simbolos[<span class="dv">3</span>]</span>
<span id="cb295-2"><a href="programs.html#cb295-2" aria-hidden="true" tabindex="-1"></a>barras <span class="ot">&lt;-</span> simbolos <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;B&quot;</span>, <span class="st">&quot;BB&quot;</span>, <span class="st">&quot;BBB&quot;</span>)</span>
<span id="cb295-3"><a href="programs.html#cb295-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb295-4"><a href="programs.html#cb295-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (iguales) {</span>
<span id="cb295-5"><a href="programs.html#cb295-5" aria-hidden="true" tabindex="-1"></a>  pagos <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;DD&quot;</span> <span class="ot">=</span> <span class="dv">100</span>, <span class="st">&quot;7&quot;</span> <span class="ot">=</span> <span class="dv">80</span>, <span class="st">&quot;BBB&quot;</span> <span class="ot">=</span> <span class="dv">40</span>, <span class="st">&quot;BB&quot;</span> <span class="ot">=</span> <span class="dv">25</span>, </span>
<span id="cb295-6"><a href="programs.html#cb295-6" aria-hidden="true" tabindex="-1"></a>             <span class="st">&quot;B&quot;</span> <span class="ot">=</span> <span class="dv">10</span>, <span class="st">&quot;C&quot;</span> <span class="ot">=</span> <span class="dv">10</span>, <span class="st">&quot;0&quot;</span> <span class="ot">=</span> <span class="dv">0</span>)</span>
<span id="cb295-7"><a href="programs.html#cb295-7" aria-hidden="true" tabindex="-1"></a>  premio <span class="ot">&lt;-</span> <span class="fu">unname</span>(pagos[simbolos[<span class="dv">1</span>]])</span>
<span id="cb295-8"><a href="programs.html#cb295-8" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> <span class="cf">if</span> (<span class="fu">all</span>(barras)) {</span>
<span id="cb295-9"><a href="programs.html#cb295-9" aria-hidden="true" tabindex="-1"></a>  premio <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb295-10"><a href="programs.html#cb295-10" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb295-11"><a href="programs.html#cb295-11" aria-hidden="true" tabindex="-1"></a>  cerezas <span class="ot">&lt;-</span> <span class="fu">sum</span>(simbolos <span class="sc">==</span> <span class="st">&quot;C&quot;</span>)</span>
<span id="cb295-12"><a href="programs.html#cb295-12" aria-hidden="true" tabindex="-1"></a>  premio <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">5</span>)[cerezas <span class="sc">+</span> <span class="dv">1</span>]</span>
<span id="cb295-13"><a href="programs.html#cb295-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb295-14"><a href="programs.html#cb295-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb295-15"><a href="programs.html#cb295-15" aria-hidden="true" tabindex="-1"></a>diamantes <span class="ot">&lt;-</span> <span class="fu">sum</span>(simbolos <span class="sc">==</span> <span class="st">&quot;DD&quot;</span>)</span>
<span id="cb295-16"><a href="programs.html#cb295-16" aria-hidden="true" tabindex="-1"></a>premio <span class="sc">*</span> <span class="dv">2</span> <span class="sc">^</span> diamantes</span></code></pre></div>
</div>
<div id="comentarios-de-código" class="section level2 hasAnchor" number="10.5">
<h2><span class="header-section-number">10.5</span> Comentarios de Código<a href="programs.html#comentarios-de-código" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Ahora tiene un script de puntuacion que puede guardar en una función. Sin embargo, antes de guardar su secuencia de comandos, considere agregar comentarios a su código con un <code>#</code>. Los comentarios pueden hacer que su código sea más fácil de entender al explicar <em>por qué</em> el código hace lo que hace. También puede usar comentarios para dividir programas largos en fragmentos escaneables. Por ejemplo, incluiría tres comentarios en el código <code>puntuacion</code>:</p>
<div class="sourceCode" id="cb296"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb296-1"><a href="programs.html#cb296-1" aria-hidden="true" tabindex="-1"></a><span class="co"># identificar caso</span></span>
<span id="cb296-2"><a href="programs.html#cb296-2" aria-hidden="true" tabindex="-1"></a>iguales <span class="ot">&lt;-</span> simbolos[<span class="dv">1</span>] <span class="sc">==</span> simbolos[<span class="dv">2</span>] <span class="sc">&amp;&amp;</span> simbolos[<span class="dv">2</span>] <span class="sc">==</span> simbolos[<span class="dv">3</span>]</span>
<span id="cb296-3"><a href="programs.html#cb296-3" aria-hidden="true" tabindex="-1"></a>barras <span class="ot">&lt;-</span> simbolos <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;B&quot;</span>, <span class="st">&quot;BB&quot;</span>, <span class="st">&quot;BBB&quot;</span>)</span>
<span id="cb296-4"><a href="programs.html#cb296-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb296-5"><a href="programs.html#cb296-5" aria-hidden="true" tabindex="-1"></a><span class="co"># obtener premio</span></span>
<span id="cb296-6"><a href="programs.html#cb296-6" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (iguales) {</span>
<span id="cb296-7"><a href="programs.html#cb296-7" aria-hidden="true" tabindex="-1"></a>  pagos <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;DD&quot;</span> <span class="ot">=</span> <span class="dv">100</span>, <span class="st">&quot;7&quot;</span> <span class="ot">=</span> <span class="dv">80</span>, <span class="st">&quot;BBB&quot;</span> <span class="ot">=</span> <span class="dv">40</span>, <span class="st">&quot;BB&quot;</span> <span class="ot">=</span> <span class="dv">25</span>, </span>
<span id="cb296-8"><a href="programs.html#cb296-8" aria-hidden="true" tabindex="-1"></a>             <span class="st">&quot;B&quot;</span> <span class="ot">=</span> <span class="dv">10</span>, <span class="st">&quot;C&quot;</span> <span class="ot">=</span> <span class="dv">10</span>, <span class="st">&quot;0&quot;</span> <span class="ot">=</span> <span class="dv">0</span>)</span>
<span id="cb296-9"><a href="programs.html#cb296-9" aria-hidden="true" tabindex="-1"></a>  premio <span class="ot">&lt;-</span> <span class="fu">unname</span>(pagos[simbolos[<span class="dv">1</span>]])</span>
<span id="cb296-10"><a href="programs.html#cb296-10" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> <span class="cf">if</span> (<span class="fu">all</span>(barras)) {</span>
<span id="cb296-11"><a href="programs.html#cb296-11" aria-hidden="true" tabindex="-1"></a>  premio <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb296-12"><a href="programs.html#cb296-12" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb296-13"><a href="programs.html#cb296-13" aria-hidden="true" tabindex="-1"></a>  cerezas <span class="ot">&lt;-</span> <span class="fu">sum</span>(simbolos <span class="sc">==</span> <span class="st">&quot;C&quot;</span>)</span>
<span id="cb296-14"><a href="programs.html#cb296-14" aria-hidden="true" tabindex="-1"></a>  premio <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">5</span>)[cerezas <span class="sc">+</span> <span class="dv">1</span>]</span>
<span id="cb296-15"><a href="programs.html#cb296-15" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb296-16"><a href="programs.html#cb296-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb296-17"><a href="programs.html#cb296-17" aria-hidden="true" tabindex="-1"></a><span class="co"># ajustar para diamantes</span></span>
<span id="cb296-18"><a href="programs.html#cb296-18" aria-hidden="true" tabindex="-1"></a>diamantes <span class="ot">&lt;-</span> <span class="fu">sum</span>(simbolos <span class="sc">==</span> <span class="st">&quot;DD&quot;</span>)</span>
<span id="cb296-19"><a href="programs.html#cb296-19" aria-hidden="true" tabindex="-1"></a>premio <span class="sc">*</span> <span class="dv">2</span> <span class="sc">^</span> diamantes</span></code></pre></div>
<p>Ahora que cada parte de tu código funciona, puedes envolverlo en una función con los métodos que aprendiste en <a href="#write-functions">Escribir tus propias funciones</a>. Utilice la opción Extract Function de RStudio en la barra de menú en Code, o utilice la función <code>function</code>. Asegúrese de que la última línea de la función devuelva un resultado (lo hace) e identifique los argumentos utilizados por su función. A menudo, los ejemplos concretos que utilizó para probar su código, como <code>símbolos</code>, se convertirán en los argumentos de su función. Ejecute el siguiente código para comenzar a usar la función <code>puntuacion</code>:</p>
<div class="sourceCode" id="cb297"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb297-1"><a href="programs.html#cb297-1" aria-hidden="true" tabindex="-1"></a>puntuacion <span class="ot">&lt;-</span> <span class="cf">function</span> (simbolos) {</span>
<span id="cb297-2"><a href="programs.html#cb297-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># identificar caso</span></span>
<span id="cb297-3"><a href="programs.html#cb297-3" aria-hidden="true" tabindex="-1"></a>  iguales <span class="ot">&lt;-</span> simbolos[<span class="dv">1</span>] <span class="sc">==</span> simbolos[<span class="dv">2</span>] <span class="sc">&amp;&amp;</span> simbolos[<span class="dv">2</span>] <span class="sc">==</span> simbolos[<span class="dv">3</span>]</span>
<span id="cb297-4"><a href="programs.html#cb297-4" aria-hidden="true" tabindex="-1"></a>  barras <span class="ot">&lt;-</span> simbolos <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;B&quot;</span>, <span class="st">&quot;BB&quot;</span>, <span class="st">&quot;BBB&quot;</span>)</span>
<span id="cb297-5"><a href="programs.html#cb297-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb297-6"><a href="programs.html#cb297-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># obtener premio</span></span>
<span id="cb297-7"><a href="programs.html#cb297-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (iguales) {</span>
<span id="cb297-8"><a href="programs.html#cb297-8" aria-hidden="true" tabindex="-1"></a>    pagos <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;DD&quot;</span> <span class="ot">=</span> <span class="dv">100</span>, <span class="st">&quot;7&quot;</span> <span class="ot">=</span> <span class="dv">80</span>, <span class="st">&quot;BBB&quot;</span> <span class="ot">=</span> <span class="dv">40</span>, <span class="st">&quot;BB&quot;</span> <span class="ot">=</span> <span class="dv">25</span>, </span>
<span id="cb297-9"><a href="programs.html#cb297-9" aria-hidden="true" tabindex="-1"></a>             <span class="st">&quot;B&quot;</span> <span class="ot">=</span> <span class="dv">10</span>, <span class="st">&quot;C&quot;</span> <span class="ot">=</span> <span class="dv">10</span>, <span class="st">&quot;0&quot;</span> <span class="ot">=</span> <span class="dv">0</span>)</span>
<span id="cb297-10"><a href="programs.html#cb297-10" aria-hidden="true" tabindex="-1"></a>    premio <span class="ot">&lt;-</span> <span class="fu">unname</span>(pagos[simbolos[<span class="dv">1</span>]])</span>
<span id="cb297-11"><a href="programs.html#cb297-11" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (<span class="fu">all</span>(barras)) {</span>
<span id="cb297-12"><a href="programs.html#cb297-12" aria-hidden="true" tabindex="-1"></a>    premio <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb297-13"><a href="programs.html#cb297-13" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb297-14"><a href="programs.html#cb297-14" aria-hidden="true" tabindex="-1"></a>    cerezas <span class="ot">&lt;-</span> <span class="fu">sum</span>(simbolos <span class="sc">==</span> <span class="st">&quot;C&quot;</span>)</span>
<span id="cb297-15"><a href="programs.html#cb297-15" aria-hidden="true" tabindex="-1"></a>    premio <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">5</span>)[cerezas <span class="sc">+</span> <span class="dv">1</span>]</span>
<span id="cb297-16"><a href="programs.html#cb297-16" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb297-17"><a href="programs.html#cb297-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb297-18"><a href="programs.html#cb297-18" aria-hidden="true" tabindex="-1"></a>  <span class="co"># ajustar para diamantes</span></span>
<span id="cb297-19"><a href="programs.html#cb297-19" aria-hidden="true" tabindex="-1"></a>  diamantes <span class="ot">&lt;-</span> <span class="fu">sum</span>(simbolos <span class="sc">==</span> <span class="st">&quot;DD&quot;</span>)</span>
<span id="cb297-20"><a href="programs.html#cb297-20" aria-hidden="true" tabindex="-1"></a>  premio <span class="sc">*</span> <span class="dv">2</span> <span class="sc">^</span> diamantes</span>
<span id="cb297-21"><a href="programs.html#cb297-21" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Una vez que haya definido la función <code>puntuacion</code>, la función <code>play</code> también funcionará:</p>
<div class="sourceCode" id="cb298"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb298-1"><a href="programs.html#cb298-1" aria-hidden="true" tabindex="-1"></a>play <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb298-2"><a href="programs.html#cb298-2" aria-hidden="true" tabindex="-1"></a>  simbolos <span class="ot">&lt;-</span> <span class="fu">obt_simbolos</span>()</span>
<span id="cb298-3"><a href="programs.html#cb298-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(simbolos)</span>
<span id="cb298-4"><a href="programs.html#cb298-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">puntuacion</span>(simbolos)</span>
<span id="cb298-5"><a href="programs.html#cb298-5" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Ahora es fácil jugar en la máquina tragamonedas:</p>
<div class="sourceCode" id="cb299"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb299-1"><a href="programs.html#cb299-1" aria-hidden="true" tabindex="-1"></a><span class="fu">play</span>()</span>
<span id="cb299-2"><a href="programs.html#cb299-2" aria-hidden="true" tabindex="-1"></a><span class="do">## &quot;0&quot;  &quot;BB&quot; &quot;B&quot; </span></span>
<span id="cb299-3"><a href="programs.html#cb299-3" aria-hidden="true" tabindex="-1"></a><span class="do">## 0</span></span>
<span id="cb299-4"><a href="programs.html#cb299-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb299-5"><a href="programs.html#cb299-5" aria-hidden="true" tabindex="-1"></a><span class="fu">play</span>()</span>
<span id="cb299-6"><a href="programs.html#cb299-6" aria-hidden="true" tabindex="-1"></a><span class="do">## &quot;DD&quot;  &quot;0&quot; &quot;B&quot;  </span></span>
<span id="cb299-7"><a href="programs.html#cb299-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 0</span></span>
<span id="cb299-8"><a href="programs.html#cb299-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb299-9"><a href="programs.html#cb299-9" aria-hidden="true" tabindex="-1"></a><span class="fu">play</span>()</span>
<span id="cb299-10"><a href="programs.html#cb299-10" aria-hidden="true" tabindex="-1"></a><span class="do">## &quot;BB&quot; &quot;BB&quot; &quot;B&quot; </span></span>
<span id="cb299-11"><a href="programs.html#cb299-11" aria-hidden="true" tabindex="-1"></a><span class="do">## 25</span></span></code></pre></div>
</div>
<div id="resumen-6" class="section level2 hasAnchor" number="10.6">
<h2><span class="header-section-number">10.6</span> Resumen<a href="programs.html#resumen-6" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Un programa en R es un conjunto de instrucciones que su computadora debe seguir y que se ha organizado en una secuencia de pasos y casos. Esto puede hacer que los programas parezcan simples, pero no se deje engañar: puede crear resultados complicados con la combinación correcta de pasos simples (y casos).</p>
<p>Como programador, es más probable que te engañen de la manera opuesta. Un programa puede parecer imposible de escribir cuando sabes que debe hacer algo impresionante. No se asuste en estas situaciones. Divida el trabajo que tiene delante en tareas simples y luego vuelva a dividir las tareas. Puede visualizar la relación entre las tareas con un diagrama de flujo si le ayuda. Luego trabaje en las subtareas una a la vez. Describa las soluciones en español y luego conviértalas a código de R. Pruebe cada solución con ejemplos concretos a medida que avanza. Una vez que cada una de sus subtareas funcione, combine su código en una función que pueda compartir y reutilizar.</p>
<p>R proporciona herramientas que pueden ayudarlo a hacer esto. Puede administrar casos con declaraciones <code>if</code> y <code>else</code>. Puede crear una tabla de búsqueda con objetos y subconjuntos. Puede agregar comentarios de código con <code>#</code>. Y puede guardar sus programas como una función con <code>function</code></p>
<p>Las cosas suelen salir mal cuando la gente escribe programas. Dependerá de usted encontrar la fuente de cualquier error que ocurra y corregirlo. Debería ser fácil encontrar la fuente de sus errores si utiliza un enfoque paso a paso para escribir funciones, escribir y luego probar, un poco a la vez. Sin embargo, si la fuente de un error se le escapa, o se encuentra trabajando con grandes fragmentos de código no probado, considere usar las herramientas de depuración integradas de R, descritas en <a href="debug.html#debug">Depuración de Código de R</a>.</p>
<p>Los siguientes dos capítulos le enseñarán más herramientas que puede usar en sus programas. A medida que domine estas herramientas, le resultará más fácil escribir programas en R que le permitan hacer lo que desee con sus datos. En <a href="s3.html#s3">S3</a>, aprenderá a usar el sistema S3 de R, una mano invisible que da forma a muchas partes de R. Usará el sistema para crear una clase personalizada para la salida de su máquina tragamonedas y le dirá a R cómo mostrar objetos que tienen tu clase.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="slots.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="s3.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/davidrsch/hopres/edit/main/programs.rmd",
"text": "Editar"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
