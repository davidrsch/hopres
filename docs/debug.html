<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>E Depuración de Código de R | Programación práctica con R</title>
  <meta name="description" content="Este libro le enseñará cómo programar en R, con ejemplos prácticos. Lo escribí para personas que no son programadores para proporcionar una introducción amigable al lenguaje R. Aprenderá a cargar datos, ensamblar y desensamblar objetos de datos, navegar por el sistema de entorno de R, escribir sus propias funciones y utilizar todas las herramientas de programación de R. A lo largo del libro, utilizará sus nuevas habilidades para resolver problemas prácticos de ciencia de datos." />
  <meta name="generator" content="bookdown 0.31 and GitBook 2.6.7" />

  <meta property="og:title" content="E Depuración de Código de R | Programación práctica con R" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="https://github.com/davidrsch/hopres/cover.png" />
  <meta property="og:description" content="Este libro le enseñará cómo programar en R, con ejemplos prácticos. Lo escribí para personas que no son programadores para proporcionar una introducción amigable al lenguaje R. Aprenderá a cargar datos, ensamblar y desensamblar objetos de datos, navegar por el sistema de entorno de R, escribir sus propias funciones y utilizar todas las herramientas de programación de R. A lo largo del libro, utilizará sus nuevas habilidades para resolver problemas prácticos de ciencia de datos." />
  <meta name="github-repo" content="davidrsch/hopres" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="E Depuración de Código de R | Programación práctica con R" />
  
  <meta name="twitter:description" content="Este libro le enseñará cómo programar en R, con ejemplos prácticos. Lo escribí para personas que no son programadores para proporcionar una introducción amigable al lenguaje R. Aprenderá a cargar datos, ensamblar y desensamblar objetos de datos, navegar por el sistema de entorno de R, escribir sus propias funciones y utilizar todas las herramientas de programación de R. A lo largo del libro, utilizará sus nuevas habilidades para resolver problemas prácticos de ciencia de datos." />
  <meta name="twitter:image" content="https://github.com/davidrsch/hopres/cover.png" />

<meta name="author" content="Garrett Grolemund" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="dataio.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="hopr.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="./">Programación práctica con R</a></strong></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Bienvenido</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#sobre-la-traducción"><i class="fa fa-check"></i>Sobre la traducción</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#sobre-la-versión-original-en-inglés"><i class="fa fa-check"></i>Sobre la versión original en inglés</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="prefacio.html"><a href="prefacio.html"><i class="fa fa-check"></i>Prefacio</a>
<ul>
<li class="chapter" data-level="" data-path="prefacio.html"><a href="prefacio.html#convenciones-usadas-en-este-libro"><i class="fa fa-check"></i>Convenciones Usadas en Este Libro</a></li>
<li class="chapter" data-level="" data-path="prefacio.html"><a href="prefacio.html#reconocimientos"><i class="fa fa-check"></i>Reconocimientos</a></li>
</ul></li>
<li class="part"><span><b>I Parte 1</b></span></li>
<li class="chapter" data-level="1" data-path="dice.html"><a href="dice.html"><i class="fa fa-check"></i><b>1</b> Proyecto 1: Dados Ponderados</a></li>
<li class="chapter" data-level="2" data-path="Básico.html"><a href="Básico.html"><i class="fa fa-check"></i><b>2</b> Lo Más Básico</a>
<ul>
<li class="chapter" data-level="2.1" data-path="Básico.html"><a href="Básico.html#la-interfaz-de-usuario-de-r"><i class="fa fa-check"></i><b>2.1</b> La Interfaz de Usuario de R</a></li>
<li class="chapter" data-level="2.2" data-path="Básico.html"><a href="Básico.html#objetos"><i class="fa fa-check"></i><b>2.2</b> Objetos</a></li>
<li class="chapter" data-level="2.3" data-path="Básico.html"><a href="Básico.html#funciones"><i class="fa fa-check"></i><b>2.3</b> Funciones</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="Básico.html"><a href="Básico.html#muestra-con-reemplazo"><i class="fa fa-check"></i><b>2.3.1</b> Muestra con reemplazo</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="Básico.html"><a href="Básico.html#Escribir-funciones"><i class="fa fa-check"></i><b>2.4</b> Escribiendo Sus Propias Funciones</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="Básico.html"><a href="Básico.html#el-constructor-de-funciones"><i class="fa fa-check"></i><b>2.4.1</b> El Constructor de Funciones</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="Básico.html"><a href="Básico.html#argumentos"><i class="fa fa-check"></i><b>2.5</b> Argumentos</a></li>
<li class="chapter" data-level="2.6" data-path="Básico.html"><a href="Básico.html#scripts"><i class="fa fa-check"></i><b>2.6</b> Scripts</a></li>
<li class="chapter" data-level="2.7" data-path="Básico.html"><a href="Básico.html#resumen"><i class="fa fa-check"></i><b>2.7</b> Resumen</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="packages.html"><a href="packages.html"><i class="fa fa-check"></i><b>3</b> Paquetes y páginas de ayuda</a>
<ul>
<li class="chapter" data-level="3.1" data-path="packages.html"><a href="packages.html#paquetes"><i class="fa fa-check"></i><b>3.1</b> Paquetes</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="packages.html"><a href="packages.html#install.packages"><i class="fa fa-check"></i><b>3.1.1</b> install.packages</a></li>
<li class="chapter" data-level="3.1.2" data-path="packages.html"><a href="packages.html#library"><i class="fa fa-check"></i><b>3.1.2</b> library</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="packages.html"><a href="packages.html#obteniendo-ayuda-con-las-páginas-de-ayuda"><i class="fa fa-check"></i><b>3.2</b> Obteniendo Ayuda con las Páginas de Ayuda</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="packages.html"><a href="packages.html#partes-de-una-página-de-ayuda"><i class="fa fa-check"></i><b>3.2.1</b> Partes de una Página de Ayuda</a></li>
<li class="chapter" data-level="3.2.2" data-path="packages.html"><a href="packages.html#obteniendo-más-ayuda"><i class="fa fa-check"></i><b>3.2.2</b> Obteniendo Más Ayuda</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="packages.html"><a href="packages.html#resumen-1"><i class="fa fa-check"></i><b>3.3</b> Resumen</a></li>
<li class="chapter" data-level="3.4" data-path="packages.html"><a href="packages.html#resumen-del-proyecto-1"><i class="fa fa-check"></i><b>3.4</b> Resumen del Proyecto 1</a></li>
</ul></li>
<li class="part"><span><b>II Parte 2</b></span></li>
<li class="chapter" data-level="4" data-path="cards.html"><a href="cards.html"><i class="fa fa-check"></i><b>4</b> Proyecto 2: Baraja de Cartas</a></li>
<li class="chapter" data-level="5" data-path="objects.html"><a href="objects.html"><i class="fa fa-check"></i><b>5</b> Objectos de R</a>
<ul>
<li class="chapter" data-level="5.1" data-path="objects.html"><a href="objects.html#vectores-atómicos"><i class="fa fa-check"></i><b>5.1</b> Vectores Atómicos</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="objects.html"><a href="objects.html#dobles"><i class="fa fa-check"></i><b>5.1.1</b> Dobles</a></li>
<li class="chapter" data-level="5.1.2" data-path="objects.html"><a href="objects.html#enteros"><i class="fa fa-check"></i><b>5.1.2</b> Enteros</a></li>
<li class="chapter" data-level="5.1.3" data-path="objects.html"><a href="objects.html#caracteres"><i class="fa fa-check"></i><b>5.1.3</b> Caracteres</a></li>
<li class="chapter" data-level="5.1.4" data-path="objects.html"><a href="objects.html#lógicos"><i class="fa fa-check"></i><b>5.1.4</b> Lógicos</a></li>
<li class="chapter" data-level="5.1.5" data-path="objects.html"><a href="objects.html#complejo-y-sin-procesar"><i class="fa fa-check"></i><b>5.1.5</b> Complejo y Sin Procesar</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="objects.html"><a href="objects.html#attributes"><i class="fa fa-check"></i><b>5.2</b> Atributos</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="objects.html"><a href="objects.html#names"><i class="fa fa-check"></i><b>5.2.1</b> Nombres</a></li>
<li class="chapter" data-level="5.2.2" data-path="objects.html"><a href="objects.html#dimensiones"><i class="fa fa-check"></i><b>5.2.2</b> Dimensiones</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="objects.html"><a href="objects.html#matrices"><i class="fa fa-check"></i><b>5.3</b> Matrices</a></li>
<li class="chapter" data-level="5.4" data-path="objects.html"><a href="objects.html#arreglos"><i class="fa fa-check"></i><b>5.4</b> Arreglos</a></li>
<li class="chapter" data-level="5.5" data-path="objects.html"><a href="objects.html#clases"><i class="fa fa-check"></i><b>5.5</b> Clases</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="objects.html"><a href="objects.html#fechas-y-horarios"><i class="fa fa-check"></i><b>5.5.1</b> Fechas y Horarios</a></li>
<li class="chapter" data-level="5.5.2" data-path="objects.html"><a href="objects.html#factores"><i class="fa fa-check"></i><b>5.5.2</b> Factores</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="objects.html"><a href="objects.html#coerción"><i class="fa fa-check"></i><b>5.6</b> Coerción</a></li>
<li class="chapter" data-level="5.7" data-path="objects.html"><a href="objects.html#listas"><i class="fa fa-check"></i><b>5.7</b> Listas</a></li>
<li class="chapter" data-level="5.8" data-path="objects.html"><a href="objects.html#data-frames"><i class="fa fa-check"></i><b>5.8</b> Data Frames</a></li>
<li class="chapter" data-level="5.9" data-path="objects.html"><a href="objects.html#loading"><i class="fa fa-check"></i><b>5.9</b> Cargar Datos</a></li>
<li class="chapter" data-level="5.10" data-path="objects.html"><a href="objects.html#guardar-datos"><i class="fa fa-check"></i><b>5.10</b> Guardar Datos</a></li>
<li class="chapter" data-level="5.11" data-path="objects.html"><a href="objects.html#resumen-2"><i class="fa fa-check"></i><b>5.11</b> Resumen</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="notation.html"><a href="notation.html"><i class="fa fa-check"></i><b>6</b> Notación de R</a>
<ul>
<li class="chapter" data-level="6.1" data-path="notation.html"><a href="notation.html#selección-de-valores"><i class="fa fa-check"></i><b>6.1</b> Selección de Valores</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="notation.html"><a href="notation.html#números-enteros-positivos"><i class="fa fa-check"></i><b>6.1.1</b> Números Enteros Positivos</a></li>
<li class="chapter" data-level="6.1.2" data-path="notation.html"><a href="notation.html#números-enteros-negativos"><i class="fa fa-check"></i><b>6.1.2</b> Números Enteros Negativos</a></li>
<li class="chapter" data-level="6.1.3" data-path="notation.html"><a href="notation.html#cero"><i class="fa fa-check"></i><b>6.1.3</b> Cero</a></li>
<li class="chapter" data-level="6.1.4" data-path="notation.html"><a href="notation.html#espacios-en-blanco"><i class="fa fa-check"></i><b>6.1.4</b> Espacios en Blanco</a></li>
<li class="chapter" data-level="6.1.5" data-path="notation.html"><a href="notation.html#logic"><i class="fa fa-check"></i><b>6.1.5</b> Valores Lógicos</a></li>
<li class="chapter" data-level="6.1.6" data-path="notation.html"><a href="notation.html#nombres"><i class="fa fa-check"></i><b>6.1.6</b> Nombres</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="notation.html"><a href="notation.html#repartir-una-carta"><i class="fa fa-check"></i><b>6.2</b> Repartir una Carta</a></li>
<li class="chapter" data-level="6.3" data-path="notation.html"><a href="notation.html#barajar-el-mazo"><i class="fa fa-check"></i><b>6.3</b> Barajar el Mazo</a></li>
<li class="chapter" data-level="6.4" data-path="notation.html"><a href="notation.html#signos-de-dólar-y-corchetes-dobles"><i class="fa fa-check"></i><b>6.4</b> Signos de Dólar y Corchetes Dobles</a></li>
<li class="chapter" data-level="6.5" data-path="notation.html"><a href="notation.html#resumen-3"><i class="fa fa-check"></i><b>6.5</b> Resumen</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="modify.html"><a href="modify.html"><i class="fa fa-check"></i><b>7</b> Modificación de Valores</a>
<ul>
<li class="chapter" data-level="7.0.1" data-path="modify.html"><a href="modify.html#cambio-de-valores-en-el-lugar"><i class="fa fa-check"></i><b>7.0.1</b> Cambio de Valores en el Lugar</a></li>
<li class="chapter" data-level="7.0.2" data-path="modify.html"><a href="modify.html#subconjunto-lógico"><i class="fa fa-check"></i><b>7.0.2</b> Subconjunto Lógico</a></li>
<li class="chapter" data-level="7.0.3" data-path="modify.html"><a href="modify.html#missing"><i class="fa fa-check"></i><b>7.0.3</b> Información Faltante</a></li>
<li class="chapter" data-level="7.0.4" data-path="modify.html"><a href="modify.html#resumen-4"><i class="fa fa-check"></i><b>7.0.4</b> Resumen</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="environment.html"><a href="environment.html"><i class="fa fa-check"></i><b>8</b> Entornos</a>
<ul>
<li class="chapter" data-level="8.1" data-path="environment.html"><a href="environment.html#entornos"><i class="fa fa-check"></i><b>8.1</b> Entornos</a></li>
<li class="chapter" data-level="8.2" data-path="environment.html"><a href="environment.html#trabajar-con-entornos"><i class="fa fa-check"></i><b>8.2</b> Trabajar con Entornos</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="environment.html"><a href="environment.html#el-entorno-activo"><i class="fa fa-check"></i><b>8.2.1</b> El Entorno Activo</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="environment.html"><a href="environment.html#reglas-de-alcance"><i class="fa fa-check"></i><b>8.3</b> Reglas de Alcance</a></li>
<li class="chapter" data-level="8.4" data-path="environment.html"><a href="environment.html#asignación"><i class="fa fa-check"></i><b>8.4</b> Asignación</a></li>
<li class="chapter" data-level="8.5" data-path="environment.html"><a href="environment.html#evaluación"><i class="fa fa-check"></i><b>8.5</b> Evaluación</a></li>
<li class="chapter" data-level="8.6" data-path="environment.html"><a href="environment.html#cierres"><i class="fa fa-check"></i><b>8.6</b> Cierres</a></li>
<li class="chapter" data-level="8.7" data-path="environment.html"><a href="environment.html#resumen-5"><i class="fa fa-check"></i><b>8.7</b> Resumen</a></li>
<li class="chapter" data-level="8.8" data-path="environment.html"><a href="environment.html#resumen-del-proyecto-2"><i class="fa fa-check"></i><b>8.8</b> Resumen del Proyecto 2</a></li>
</ul></li>
<li class="part"><span><b>III Parte 3</b></span></li>
<li class="chapter" data-level="9" data-path="slots.html"><a href="slots.html"><i class="fa fa-check"></i><b>9</b> Proyecto 3: Máquina Tragamonedas</a></li>
<li class="chapter" data-level="10" data-path="programs.html"><a href="programs.html"><i class="fa fa-check"></i><b>10</b> Programas</a>
<ul>
<li class="chapter" data-level="10.1" data-path="programs.html"><a href="programs.html#estrategia"><i class="fa fa-check"></i><b>10.1</b> Estrategia</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="programs.html"><a href="programs.html#pasos-secuenciales"><i class="fa fa-check"></i><b>10.1.1</b> Pasos Secuenciales</a></li>
<li class="chapter" data-level="10.1.2" data-path="programs.html"><a href="programs.html#casos-paralelos"><i class="fa fa-check"></i><b>10.1.2</b> Casos Paralelos</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="programs.html"><a href="programs.html#declaraciones-if"><i class="fa fa-check"></i><b>10.2</b> Declaraciones if</a></li>
<li class="chapter" data-level="10.3" data-path="programs.html"><a href="programs.html#declaraciones-else"><i class="fa fa-check"></i><b>10.3</b> Declaraciones else</a></li>
<li class="chapter" data-level="10.4" data-path="programs.html"><a href="programs.html#tablas-de-búsqueda"><i class="fa fa-check"></i><b>10.4</b> Tablas de Búsqueda</a></li>
<li class="chapter" data-level="10.5" data-path="programs.html"><a href="programs.html#comentarios-de-código"><i class="fa fa-check"></i><b>10.5</b> Comentarios de Código</a></li>
<li class="chapter" data-level="10.6" data-path="programs.html"><a href="programs.html#resumen-6"><i class="fa fa-check"></i><b>10.6</b> Resumen</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="s3.html"><a href="s3.html"><i class="fa fa-check"></i><b>11</b> S3</a>
<ul>
<li class="chapter" data-level="11.1" data-path="s3.html"><a href="s3.html#el-sistema-s3"><i class="fa fa-check"></i><b>11.1</b> El Sistema S3</a></li>
<li class="chapter" data-level="11.2" data-path="s3.html"><a href="s3.html#atributos"><i class="fa fa-check"></i><b>11.2</b> Atributos</a></li>
<li class="chapter" data-level="11.3" data-path="s3.html"><a href="s3.html#funciones-genéricas"><i class="fa fa-check"></i><b>11.3</b> Funciones Genéricas</a></li>
<li class="chapter" data-level="11.4" data-path="s3.html"><a href="s3.html#métodos"><i class="fa fa-check"></i><b>11.4</b> Métodos</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="s3.html"><a href="s3.html#selección-de-método"><i class="fa fa-check"></i><b>11.4.1</b> Selección de Método</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="s3.html"><a href="s3.html#clases-1"><i class="fa fa-check"></i><b>11.5</b> Clases</a></li>
<li class="chapter" data-level="11.6" data-path="s3.html"><a href="s3.html#s3-y-depuración"><i class="fa fa-check"></i><b>11.6</b> S3 y Depuración</a></li>
<li class="chapter" data-level="11.7" data-path="s3.html"><a href="s3.html#s4-y-r5"><i class="fa fa-check"></i><b>11.7</b> S4 y R5</a></li>
<li class="chapter" data-level="11.8" data-path="s3.html"><a href="s3.html#resumen-7"><i class="fa fa-check"></i><b>11.8</b> Resumen</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="loops.html"><a href="loops.html"><i class="fa fa-check"></i><b>12</b> Bucles</a>
<ul>
<li class="chapter" data-level="12.1" data-path="loops.html"><a href="loops.html#valores-esperados"><i class="fa fa-check"></i><b>12.1</b> Valores Esperados</a></li>
<li class="chapter" data-level="12.2" data-path="loops.html"><a href="loops.html#expand.grid"><i class="fa fa-check"></i><b>12.2</b> expand.grid</a></li>
<li class="chapter" data-level="12.3" data-path="loops.html"><a href="loops.html#bucles-for"><i class="fa fa-check"></i><b>12.3</b> Bucles for</a></li>
<li class="chapter" data-level="12.4" data-path="loops.html"><a href="loops.html#bucles-while"><i class="fa fa-check"></i><b>12.4</b> Bucles while</a></li>
<li class="chapter" data-level="12.5" data-path="loops.html"><a href="loops.html#bucles-repeat"><i class="fa fa-check"></i><b>12.5</b> Bucles repeat</a></li>
<li class="chapter" data-level="12.6" data-path="loops.html"><a href="loops.html#resumen-8"><i class="fa fa-check"></i><b>12.6</b> Resumen</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="speed.html"><a href="speed.html"><i class="fa fa-check"></i><b>13</b> Speed</a>
<ul>
<li class="chapter" data-level="13.1" data-path="speed.html"><a href="speed.html#vectorized-code"><i class="fa fa-check"></i><b>13.1</b> Vectorized Code</a></li>
<li class="chapter" data-level="13.2" data-path="speed.html"><a href="speed.html#how-to-write-vectorized-code"><i class="fa fa-check"></i><b>13.2</b> How to Write Vectorized Code</a></li>
<li class="chapter" data-level="13.3" data-path="speed.html"><a href="speed.html#how-to-write-fast-for-loops-in-r"><i class="fa fa-check"></i><b>13.3</b> How to Write Fast for Loops in R</a></li>
<li class="chapter" data-level="13.4" data-path="speed.html"><a href="speed.html#vectorized-code-in-practice"><i class="fa fa-check"></i><b>13.4</b> Vectorized Code in Practice</a>
<ul>
<li class="chapter" data-level="13.4.1" data-path="speed.html"><a href="speed.html#loops-versus-vectorized-code"><i class="fa fa-check"></i><b>13.4.1</b> Loops Versus Vectorized Code</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="speed.html"><a href="speed.html#summary"><i class="fa fa-check"></i><b>13.5</b> Summary</a></li>
<li class="chapter" data-level="13.6" data-path="speed.html"><a href="speed.html#project-3-wrap-up"><i class="fa fa-check"></i><b>13.6</b> Project 3 Wrap-up</a></li>
</ul></li>
<li class="appendix"><span><b>Apéndice</b></span></li>
<li class="chapter" data-level="A" data-path="starting.html"><a href="starting.html"><i class="fa fa-check"></i><b>A</b> Instalación de R y RStudio</a>
<ul>
<li class="chapter" data-level="A.1" data-path="starting.html"><a href="starting.html#cómo-descargar-e-instalar-r"><i class="fa fa-check"></i><b>A.1</b> Cómo descargar e instalar R</a>
<ul>
<li class="chapter" data-level="A.1.1" data-path="starting.html"><a href="starting.html#windows"><i class="fa fa-check"></i><b>A.1.1</b> Windows</a></li>
<li class="chapter" data-level="A.1.2" data-path="starting.html"><a href="starting.html#mac"><i class="fa fa-check"></i><b>A.1.2</b> Mac</a></li>
<li class="chapter" data-level="A.1.3" data-path="starting.html"><a href="starting.html#linux"><i class="fa fa-check"></i><b>A.1.3</b> Linux</a></li>
</ul></li>
<li class="chapter" data-level="A.2" data-path="starting.html"><a href="starting.html#usando-r"><i class="fa fa-check"></i><b>A.2</b> Usando R</a></li>
<li class="chapter" data-level="A.3" data-path="starting.html"><a href="starting.html#rstudio"><i class="fa fa-check"></i><b>A.3</b> RStudio</a></li>
<li class="chapter" data-level="A.4" data-path="starting.html"><a href="starting.html#abriendo-r"><i class="fa fa-check"></i><b>A.4</b> Abriendo R</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="packages2.html"><a href="packages2.html"><i class="fa fa-check"></i><b>B</b> Paquetes de R</a>
<ul>
<li class="chapter" data-level="B.1" data-path="packages2.html"><a href="packages2.html#instalando-paquetes"><i class="fa fa-check"></i><b>B.1</b> Instalando Paquetes</a></li>
<li class="chapter" data-level="B.2" data-path="packages2.html"><a href="packages2.html#cargando-paquetes"><i class="fa fa-check"></i><b>B.2</b> Cargando Paquetes</a></li>
</ul></li>
<li class="chapter" data-level="C" data-path="updating.html"><a href="updating.html"><i class="fa fa-check"></i><b>C</b> Updating R and Its Packages</a>
<ul>
<li class="chapter" data-level="C.1" data-path="updating.html"><a href="updating.html#r-packages"><i class="fa fa-check"></i><b>C.1</b> R Packages</a></li>
</ul></li>
<li class="chapter" data-level="D" data-path="dataio.html"><a href="dataio.html"><i class="fa fa-check"></i><b>D</b> Cargar y Guardar Datos en R</a>
<ul>
<li class="chapter" data-level="D.1" data-path="dataio.html"><a href="dataio.html#conjuntos-de-datos-en-r-base"><i class="fa fa-check"></i><b>D.1</b> Conjuntos de Datos en R Base</a></li>
<li class="chapter" data-level="D.2" data-path="dataio.html"><a href="dataio.html#directorio-de-trabajo"><i class="fa fa-check"></i><b>D.2</b> Directorio de Trabajo</a></li>
<li class="chapter" data-level="D.3" data-path="dataio.html"><a href="dataio.html#archivos-de-texto-sin-formato"><i class="fa fa-check"></i><b>D.3</b> Archivos de Texto Sin Formato</a>
<ul>
<li class="chapter" data-level="D.3.1" data-path="dataio.html"><a href="dataio.html#read.table"><i class="fa fa-check"></i><b>D.3.1</b> read.table</a></li>
<li class="chapter" data-level="D.3.2" data-path="dataio.html"><a href="dataio.html#la-familia-read"><i class="fa fa-check"></i><b>D.3.2</b> La Familia read</a></li>
<li class="chapter" data-level="D.3.3" data-path="dataio.html"><a href="dataio.html#read.fwf"><i class="fa fa-check"></i><b>D.3.3</b> read.fwf</a></li>
<li class="chapter" data-level="D.3.4" data-path="dataio.html"><a href="dataio.html#links-html"><i class="fa fa-check"></i><b>D.3.4</b> Links HTML</a></li>
<li class="chapter" data-level="D.3.5" data-path="dataio.html"><a href="dataio.html#guardar-archivos-de-texto-sin-formato"><i class="fa fa-check"></i><b>D.3.5</b> Guardar Archivos de Texto Sin Formato</a></li>
<li class="chapter" data-level="D.3.6" data-path="dataio.html"><a href="dataio.html#comprimiendo-archivos"><i class="fa fa-check"></i><b>D.3.6</b> Comprimiendo Archivos</a></li>
</ul></li>
<li class="chapter" data-level="D.4" data-path="dataio.html"><a href="dataio.html#archivos-de-r"><i class="fa fa-check"></i><b>D.4</b> Archivos de R</a>
<ul>
<li class="chapter" data-level="D.4.1" data-path="dataio.html"><a href="dataio.html#guardar-archivos-de-r"><i class="fa fa-check"></i><b>D.4.1</b> Guardar archivos de R</a></li>
</ul></li>
<li class="chapter" data-level="D.5" data-path="dataio.html"><a href="dataio.html#hojas-de-cálculo-de-excel"><i class="fa fa-check"></i><b>D.5</b> Hojas de Cálculo de Excel</a>
<ul>
<li class="chapter" data-level="D.5.1" data-path="dataio.html"><a href="dataio.html#exportar-desde-excel"><i class="fa fa-check"></i><b>D.5.1</b> Exportar desde Excel</a></li>
<li class="chapter" data-level="D.5.2" data-path="dataio.html"><a href="dataio.html#copiar-y-pegar"><i class="fa fa-check"></i><b>D.5.2</b> Copiar y pegar</a></li>
<li class="chapter" data-level="D.5.3" data-path="dataio.html"><a href="dataio.html#xlconnect"><i class="fa fa-check"></i><b>D.5.3</b> XLConnect</a></li>
<li class="chapter" data-level="D.5.4" data-path="dataio.html"><a href="dataio.html#lectura-de-hojas-de-cálculo"><i class="fa fa-check"></i><b>D.5.4</b> Lectura de Hojas de Cálculo</a></li>
<li class="chapter" data-level="D.5.5" data-path="dataio.html"><a href="dataio.html#escribir-hojas-de-cálculo"><i class="fa fa-check"></i><b>D.5.5</b> Escribir Hojas de Cálculo</a></li>
</ul></li>
<li class="chapter" data-level="D.6" data-path="dataio.html"><a href="dataio.html#cargar-archivos-desde-otros-programas"><i class="fa fa-check"></i><b>D.6</b> Cargar Archivos desde Otros Programas</a>
<ul>
<li class="chapter" data-level="D.6.1" data-path="dataio.html"><a href="dataio.html#conexión-a-bases-de-datos"><i class="fa fa-check"></i><b>D.6.1</b> Conexión a bases de datos</a></li>
</ul></li>
<li class="chapter" data-level="D.7" data-path="dataio.html"><a href="dataio.html#actualización"><i class="fa fa-check"></i><b>D.7</b> Actualización</a></li>
</ul></li>
<li class="chapter" data-level="E" data-path="debug.html"><a href="debug.html"><i class="fa fa-check"></i><b>E</b> Depuración de Código de R</a>
<ul>
<li class="chapter" data-level="E.1" data-path="debug.html"><a href="debug.html#traceback"><i class="fa fa-check"></i><b>E.1</b> traceback</a></li>
<li class="chapter" data-level="E.2" data-path="debug.html"><a href="debug.html#browser"><i class="fa fa-check"></i><b>E.2</b> browser</a></li>
<li class="chapter" data-level="E.3" data-path="debug.html"><a href="debug.html#puntos-de-ruptura"><i class="fa fa-check"></i><b>E.3</b> Puntos de Ruptura</a></li>
<li class="chapter" data-level="E.4" data-path="debug.html"><a href="debug.html#debug-1"><i class="fa fa-check"></i><b>E.4</b> debug</a></li>
<li class="chapter" data-level="E.5" data-path="debug.html"><a href="debug.html#trace"><i class="fa fa-check"></i><b>E.5</b> trace</a></li>
<li class="chapter" data-level="E.6" data-path="debug.html"><a href="debug.html#recover"><i class="fa fa-check"></i><b>E.6</b> recover</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Programación práctica con R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="debug" class="section level1 hasAnchor" number="18">
<h1><span class="header-section-number">E</span> Depuración de Código de R<a href="debug.html#debug" class="anchor-section" aria-label="Anchor link to header"></a></h1>

<div class="rmdnote">
Este apéndice hace referencia a los entornos, el tema de <a href="environment.html#environment">Entornos</a> y utiliza ejemplos de <a href="programs.html#programs">Programas</a> y <a href="s3.html#s3">S3</a>. Debe leer estos capítulos primero para aprovechar al máximo este apéndice.
</div>
<p>R viene con un conjunto simple de herramientas de depuración que amplifica RStudio. Puede usar estas herramientas para comprender mejor el código que produce un error o devuelve un resultado inesperado. Por lo general, este será su propio código, pero también puede examinar las funciones en R o uno de sus paquetes.</p>
<p>La depuración de código puede requerir tanta creatividad y perspicacia como la escritura de código. No hay garantía de que encuentre un error o pueda solucionarlo cuando lo haga. Sin embargo, puede ayudarse usando las herramientas de depuración de R. Estas incluyen las funciones <code>traceback</code>, <code>browser</code>, <code>debug</code>, <code>debugonce</code>, <code>trace</code> y <code>recover</code>.</p>
<p>El uso de estas herramientas suele ser un proceso de dos pasos. Primero, localiza <em>dónde</em> ocurrió un error. Luego intenta determinar <em>por qué</em> ocurrió. Puede hacer el primer paso con la función <code>traceback</code> de R.</p>
<div id="traceback" class="section level2 hasAnchor" number="18.1">
<h2><span class="header-section-number">E.1</span> traceback<a href="debug.html#traceback" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>La herramienta <code>traceback</code> señala la ubicación de un error. Muchas funciones de R llaman a otras funciones de R, que llaman a otras funciones, y así sucesivamente. Cuando ocurre un error, es posible que no esté claro cuál de estas funciones salió mal. Consideremos un ejemplo. Las siguientes funciones se llaman entre sí, y la última función crea un error (verá por qué en un segundo):</p>
<div class="sourceCode" id="cb446"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb446-1"><a href="debug.html#cb446-1" aria-hidden="true" tabindex="-1"></a>primera <span class="ot">&lt;-</span> <span class="cf">function</span>() <span class="fu">segunda</span>()</span>
<span id="cb446-2"><a href="debug.html#cb446-2" aria-hidden="true" tabindex="-1"></a>segunda <span class="ot">&lt;-</span> <span class="cf">function</span>() <span class="fu">tercera</span>()</span>
<span id="cb446-3"><a href="debug.html#cb446-3" aria-hidden="true" tabindex="-1"></a>tercera <span class="ot">&lt;-</span> <span class="cf">function</span>() <span class="fu">cuarta</span>()</span>
<span id="cb446-4"><a href="debug.html#cb446-4" aria-hidden="true" tabindex="-1"></a>cuarta <span class="ot">&lt;-</span> <span class="cf">function</span>() <span class="fu">quinta</span>()</span>
<span id="cb446-5"><a href="debug.html#cb446-5" aria-hidden="true" tabindex="-1"></a>quinta <span class="ot">&lt;-</span> <span class="cf">function</span>() <span class="fu">error</span>()</span></code></pre></div>
<p>Cuando ejecuta <code>primera</code>, llamará a <code>segunda</code>, que llamará a <code>tercera</code>, que llamará a <code>cuarta</code>, que llamará a <code>quinta</code>, que llamará a <code>error</code>, una función que no existe. Así es como se verá en la línea de comando:</p>
<div class="sourceCode" id="cb447"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb447-1"><a href="debug.html#cb447-1" aria-hidden="true" tabindex="-1"></a><span class="fu">primera</span>()</span>
<span id="cb447-2"><a href="debug.html#cb447-2" aria-hidden="true" tabindex="-1"></a><span class="do">##  Error in quinta() : could not find function &quot;error&quot; </span></span></code></pre></div>
<p>El informe de error nos dice que el error ocurrió cuando R intentó ejecutar <code>quinta</code>. También nos dice la naturaleza del error (no existe una función llamada <code>error</code>). Aquí, es obvio por qué R llama a <code>quinta</code>, pero podría no ser tan obvio por qué R llama a una función cuando ocurre un error en la naturaleza.</p>
<p>Puede ver la ruta de las funciones que R llamó antes de que se produjera un error escribiendo <em><code>traceback()</code></em> en la línea de comando. <code>traceback</code> devolverá una pila de llamadas, una lista de las funciones que R llamó en el orden en que las llamó. La función inferior será el comando que ingresó en la línea de comando. La función superior será la función que causó el error:</p>
<div class="sourceCode" id="cb448"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb448-1"><a href="debug.html#cb448-1" aria-hidden="true" tabindex="-1"></a><span class="fu">traceback</span>()</span>
<span id="cb448-2"><a href="debug.html#cb448-2" aria-hidden="true" tabindex="-1"></a><span class="do">## 5: quinta() at #1</span></span>
<span id="cb448-3"><a href="debug.html#cb448-3" aria-hidden="true" tabindex="-1"></a><span class="do">## 4: cuarta() at #1</span></span>
<span id="cb448-4"><a href="debug.html#cb448-4" aria-hidden="true" tabindex="-1"></a><span class="do">## 3: tercera() at #1</span></span>
<span id="cb448-5"><a href="debug.html#cb448-5" aria-hidden="true" tabindex="-1"></a><span class="do">## 2: segunda() at #1</span></span>
<span id="cb448-6"><a href="debug.html#cb448-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 1: primera()</span></span></code></pre></div>
<p><code>traceback</code> siempre se referirá al último error que encontró. Si desea ver un error menos reciente, deberá volver a crearlo antes de ejecutar <code>traceback</code>.</p>
<p>¿Cómo puede ayudarte esto? Primero, <code>traceback</code> devuelve una lista de sospechosos. Una de estas funciones causó el error, y cada función es más sospechosa que las que están debajo. Lo más probable es que nuestro error provenga de <code>quinta</code> (lo hizo), pero también es posible que una función anterior haya hecho algo extraño, como llamar a <code>quinta</code> cuando no debería haberlo hecho.</p>
<p>En segundo lugar, <code>traceback</code> puede mostrarle si R se salió del camino que esperaba que tomara. Si esto sucedió, mire la última función antes de que las cosas salieran mal.</p>
<p>En tercer lugar, <code>traceback</code> puede revelar el alarmante alcance de los infinitos errores de recurrencia. Por ejemplo, si cambia <code>quinta</code> para que llame a <code>segunda</code>, las funciones harán un bucle: <code>segunda</code> llamará a <code>tercera</code>, que llamará a <code>cuarta</code>, que llamará a <code>quinta</code>, que llamará a <code>segunda</code> y comienza el bucle de nuevo. Es más fácil hacer este tipo de cosas en la práctica de lo que piensas:</p>
<div class="sourceCode" id="cb449"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb449-1"><a href="debug.html#cb449-1" aria-hidden="true" tabindex="-1"></a>quinta <span class="ot">&lt;-</span> <span class="cf">function</span>() <span class="fu">segunda</span>()</span></code></pre></div>
<p>Cuando llamas a <code>primera()</code>, R comenzará a ejecutar las funciones. Después de un tiempo, notará que se está repitiendo y devolverá un error. <code>traceback</code> mostrará exactamente lo que estaba haciendo R:</p>
<div class="sourceCode" id="cb450"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb450-1"><a href="debug.html#cb450-1" aria-hidden="true" tabindex="-1"></a><span class="fu">primera</span>()</span>
<span id="cb450-2"><a href="debug.html#cb450-2" aria-hidden="true" tabindex="-1"></a><span class="do">## Error: evaluation nested too deeply: infinite recursion/options(expressions=)?</span></span>
<span id="cb450-3"><a href="debug.html#cb450-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb450-4"><a href="debug.html#cb450-4" aria-hidden="true" tabindex="-1"></a><span class="fu">traceback</span>()</span>
<span id="cb450-5"><a href="debug.html#cb450-5" aria-hidden="true" tabindex="-1"></a><span class="do">## 5000: cuarta() at #1</span></span>
<span id="cb450-6"><a href="debug.html#cb450-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 4999: tercera() at #1</span></span>
<span id="cb450-7"><a href="debug.html#cb450-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 4998: segunda() at #1</span></span>
<span id="cb450-8"><a href="debug.html#cb450-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 4997: quinta() at #1</span></span>
<span id="cb450-9"><a href="debug.html#cb450-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 4996: cuarta() at #1</span></span>
<span id="cb450-10"><a href="debug.html#cb450-10" aria-hidden="true" tabindex="-1"></a><span class="do">## 4995: tercera() at #1</span></span>
<span id="cb450-11"><a href="debug.html#cb450-11" aria-hidden="true" tabindex="-1"></a><span class="do">## 4994: segunda() at #1</span></span>
<span id="cb450-12"><a href="debug.html#cb450-12" aria-hidden="true" tabindex="-1"></a><span class="do">## 4993: quinta() at #1</span></span>
<span id="cb450-13"><a href="debug.html#cb450-13" aria-hidden="true" tabindex="-1"></a><span class="do">## ...</span></span></code></pre></div>
<p>Observe que hay 5.000 líneas de salida en este <code>traceback</code>. Si está utilizando RStudio, no podrá ver el seguimiento de un error de recursión infinita (utilicé la GUI de Mac para obtener este resultado). RStudio reprime el rastreo de errores de recurrencia infinitos para evitar que las grandes pilas de llamadas saquen el historial de su consola del búfer de memoria de R. Con RStudio, deberá reconocer el error de recurrencia infinita por su mensaje de error. Sin embargo, aún puede ver el imponente <code>traceback</code> al ejecutar las cosas en un shell de UNIX o en las GUI de Windows o Mac.</p>
<p>RStudio hace que sea muy fácil usar <code>traceback</code>. Ni siquiera necesita escribir el nombre de la función. Siempre que ocurra un error, RStudio lo mostrará en un cuadro gris con dos opciones. El primero es Show Traceback, que se muestra en la Figura <a href="debug.html#fig:show-traceback">E.1</a>.</p>
<div class="figure"><span style="display:block;" id="fig:show-traceback"></span>
<img src="images/hopr_ae01.png" alt="Opción de Show Traceback de RStudio." width="709" />
<p class="caption">
Figure E.1: Opción de Show Traceback de RStudio.
</p>
</div>
<p>Si hace clic en Show Traceback, RStudio expandirá el cuadro gris y mostrará la pila de llamadas <code>traceback</code>, como en la figura <a href="debug.html#fig:hide-traceback">E.2</a>. La opción Show Traceback persistirá junto a un mensaje de error en su consola, incluso mientras escribe nuevos comandos. Esto significa que puede volver atrás y buscar en las pilas de llamadas todos los errores, no solo el error más reciente.</p>
<p>Imagina que has usado <code>traceback</code> para identificar una función que crees que podría causar un error. Ahora, ¿qué debes hacer? Debe intentar averiguar qué hizo la función para causar un error mientras se ejecutaba (si es que hizo algo). Puede examinar cómo se ejecuta la función con <code>browser</code>.</p>
<div class="figure"><span style="display:block;" id="fig:hide-traceback"></span>
<img src="images/hopr_ae02.png" alt="Pantalla de traceback de RStudio." width="782" />
<p class="caption">
Figure E.2: Pantalla de traceback de RStudio.
</p>
</div>
</div>
<div id="browser" class="section level2 hasAnchor" number="18.2">
<h2><span class="header-section-number">E.2</span> browser<a href="debug.html#browser" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Puede pedirle a R que haga una pausa en medio de la ejecución de una función y le devuelva el control con <code>browser</code>. Esto le permitirá ingresar nuevos comandos en la línea de comandos. El entorno activo para estos comandos no será el entorno global (como es habitual); será el entorno de tiempo de ejecución de la función que ha pausado. Como resultado, puede ver los objetos que usa la función, buscar sus valores con las mismas reglas de alcance que usaría la función y ejecutar el código en las mismas condiciones en las que lo haría la función. Esta disposición proporciona la mejor oportunidad para detectar la fuente de errores en una función.</p>
<p>Para usar <code>browser</code>, agregue la llamada <code>browser()</code> al cuerpo de una función y luego vuelva a guardar la función. Por ejemplo, si quisiera hacer una pausa en medio de la función <code>puntuacion</code> de <a href="programs.html#programs">Programas</a>, podría agregar <code>browser()</code> al cuerpo de <code>puntuacion</code> y luego volver a ejecutar el siguiente código, que define <code>puntuacion</code>:</p>
<div class="sourceCode" id="cb451"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb451-1"><a href="debug.html#cb451-1" aria-hidden="true" tabindex="-1"></a>puntuacion <span class="ot">&lt;-</span> <span class="cf">function</span>(simbolos) {</span>
<span id="cb451-2"><a href="debug.html#cb451-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># identificar caso</span></span>
<span id="cb451-3"><a href="debug.html#cb451-3" aria-hidden="true" tabindex="-1"></a>  iguales <span class="ot">&lt;-</span> simbolos[<span class="dv">1</span>] <span class="sc">==</span> simbolos[<span class="dv">2</span>] <span class="sc">&amp;&amp;</span> simbolos[<span class="dv">2</span>] <span class="sc">==</span> simbolos[<span class="dv">3</span>]</span>
<span id="cb451-4"><a href="debug.html#cb451-4" aria-hidden="true" tabindex="-1"></a>  barras <span class="ot">&lt;-</span> simbolos <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;B&quot;</span>, <span class="st">&quot;BB&quot;</span>, <span class="st">&quot;BBB&quot;</span>)</span>
<span id="cb451-5"><a href="debug.html#cb451-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb451-6"><a href="debug.html#cb451-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># obtener premio</span></span>
<span id="cb451-7"><a href="debug.html#cb451-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (iguales) {</span>
<span id="cb451-8"><a href="debug.html#cb451-8" aria-hidden="true" tabindex="-1"></a>    pagos <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;DD&quot;</span> <span class="ot">=</span> <span class="dv">100</span>, <span class="st">&quot;7&quot;</span> <span class="ot">=</span> <span class="dv">80</span>, <span class="st">&quot;BBB&quot;</span> <span class="ot">=</span> <span class="dv">40</span>, <span class="st">&quot;BB&quot;</span> <span class="ot">=</span> <span class="dv">25</span>, </span>
<span id="cb451-9"><a href="debug.html#cb451-9" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;B&quot;</span> <span class="ot">=</span> <span class="dv">10</span>, <span class="st">&quot;C&quot;</span> <span class="ot">=</span> <span class="dv">10</span>, <span class="st">&quot;0&quot;</span> <span class="ot">=</span> <span class="dv">0</span>)</span>
<span id="cb451-10"><a href="debug.html#cb451-10" aria-hidden="true" tabindex="-1"></a>    premio <span class="ot">&lt;-</span> <span class="fu">unname</span>(pagos[simbolos[<span class="dv">1</span>]])</span>
<span id="cb451-11"><a href="debug.html#cb451-11" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (<span class="fu">all</span>(barras)) {</span>
<span id="cb451-12"><a href="debug.html#cb451-12" aria-hidden="true" tabindex="-1"></a>    premio <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb451-13"><a href="debug.html#cb451-13" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb451-14"><a href="debug.html#cb451-14" aria-hidden="true" tabindex="-1"></a>    cerezas <span class="ot">&lt;-</span> <span class="fu">sum</span>(simbolos <span class="sc">==</span> <span class="st">&quot;C&quot;</span>)</span>
<span id="cb451-15"><a href="debug.html#cb451-15" aria-hidden="true" tabindex="-1"></a>    premio <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">5</span>)[cerezas <span class="sc">+</span> <span class="dv">1</span>]</span>
<span id="cb451-16"><a href="debug.html#cb451-16" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb451-17"><a href="debug.html#cb451-17" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb451-18"><a href="debug.html#cb451-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">browser</span>()</span>
<span id="cb451-19"><a href="debug.html#cb451-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb451-20"><a href="debug.html#cb451-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># ajustar para diamantes</span></span>
<span id="cb451-21"><a href="debug.html#cb451-21" aria-hidden="true" tabindex="-1"></a>  diamantes <span class="ot">&lt;-</span> <span class="fu">sum</span>(simbolos <span class="sc">==</span> <span class="st">&quot;DD&quot;</span>)</span>
<span id="cb451-22"><a href="debug.html#cb451-22" aria-hidden="true" tabindex="-1"></a>  premio <span class="sc">*</span> <span class="dv">2</span> <span class="sc">^</span> diamantes</span>
<span id="cb451-23"><a href="debug.html#cb451-23" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Ahora, siempre que R ejecute <code>puntuacion</code>, llegará a la llamada <code>browser()</code>. Puede ver esto con la función <code>play</code> de <a href="programs.html#programs">Programas</a> y <a href="s3.html#s3">S3</a>. Si no tiene <code>play</code> a mano, puede acceder ejecutando este código:</p>
<div class="sourceCode" id="cb452"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb452-1"><a href="debug.html#cb452-1" aria-hidden="true" tabindex="-1"></a>obt_simbolos <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb452-2"><a href="debug.html#cb452-2" aria-hidden="true" tabindex="-1"></a>  rueda <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;DD&quot;</span>, <span class="st">&quot;7&quot;</span>, <span class="st">&quot;BBB&quot;</span>, <span class="st">&quot;BB&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;0&quot;</span>)</span>
<span id="cb452-3"><a href="debug.html#cb452-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sample</span>(rueda, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>, </span>
<span id="cb452-4"><a href="debug.html#cb452-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">prob =</span> <span class="fu">c</span>(<span class="fl">0.03</span>, <span class="fl">0.03</span>, <span class="fl">0.06</span>, <span class="fl">0.1</span>, <span class="fl">0.25</span>, <span class="fl">0.01</span>, <span class="fl">0.52</span>))</span>
<span id="cb452-5"><a href="debug.html#cb452-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb452-6"><a href="debug.html#cb452-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb452-7"><a href="debug.html#cb452-7" aria-hidden="true" tabindex="-1"></a>play <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb452-8"><a href="debug.html#cb452-8" aria-hidden="true" tabindex="-1"></a>  simbolos <span class="ot">&lt;-</span> <span class="fu">obt_simbolos</span>()</span>
<span id="cb452-9"><a href="debug.html#cb452-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">structure</span>(<span class="fu">puntuacion</span>(simbolos), <span class="at">simbolos =</span> simbolos, <span class="at">class =</span> <span class="st">&quot;tragamonedas&quot;</span>)</span>
<span id="cb452-10"><a href="debug.html#cb452-10" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Cuando ejecutas <code>play</code>, <code>play</code> llamará a <code>obt_simbolos</code> y luego a <code>puntuacion</code>. A medida que R trabaja a través de <code>puntuacion</code>, encontrará la llamada a <code>browser</code> y la ejecutará. Cuando R ejecuta esta llamada, sucederán varias cosas, como en la Figura <a href="debug.html#fig:browser">E.3</a>. Primero, R dejará de ejecutar <code>puntuacion</code>. En segundo lugar, el símbolo del sistema cambiará a <code>browser[1]&gt;</code> y R me devolverá el control; Ahora puedo escribir nuevos comandos en el nuevo símbolo del sistema. En tercer lugar, aparecerán tres botones sobre el panel de la consola: Next, Continue y Stop. En cuarto lugar, RStudio mostrará el código fuente de <code>puntuacion</code> en el panel de secuencias de comandos y resaltará la línea que contiene <code>browser()</code>. Quinto, la pestaña de entornos cambiará. En lugar de revelar los objetos que se guardan en el entorno global, revelará los objetos que se guardan en el entorno de tiempo de ejecución de <code>puntuacion</code> (consulte <a href="environment.html#environment">Entornos</a> para obtener una explicación del sistema de entorno de R). En sexto lugar, RStudio abrirá un nuevo panel de seguimiento, que muestra la pila de llamadas que tomó RStudio para llegar al <code>browser</code>. Se resaltará la función más reciente, <code>puntuacion</code>.</p>
<p>Ahora estoy en un nuevo modo de R, llamado <em>modo navegador</em>. El modo de navegador está diseñado para ayudarlo a descubrir errores, y la nueva pantalla en RStudio está diseñada para ayudarlo a navegar en este modo.</p>
<p>Cualquier comando que ejecute en modo navegador se evaluará en el contexto del entorno de tiempo de ejecución de la función que llamó <code>browser</code>. Esta será la función que se resaltará en el nuevo panel Rastreo. Aquí, esa función es <code>puntuacion</code>. Entonces, mientras estamos en modo navegador, el entorno activo será el entorno de tiempo de ejecución de <code>puntuacion</code>. Esto le permite hacer dos cosas.</p>
<div class="figure"><span style="display:block;" id="fig:browser"></span>
<img src="images/hopr_ae03.png" alt="RStudio actualiza su pantalla cada vez que ingresa al modo de navegador para ayudarlo a navegar por el modo." width="946" />
<p class="caption">
Figure E.3: RStudio actualiza su pantalla cada vez que ingresa al modo de navegador para ayudarlo a navegar por el modo.
</p>
</div>
<p>Primero, puedes inspeccionar los objetos que usa <code>puntuacion</code>. El panel Entornos actualizado le muestra qué objetos <code>puntuacion</code> ha guardado en su entorno local. Puede inspeccionar cualquiera de ellos escribiendo su nombre en el indicador del navegador. Esto le brinda una manera de ver los valores de las variables de tiempo de ejecución a las que normalmente no podría acceder. Si un valor parece claramente incorrecto, es posible que esté cerca de encontrar un error:</p>
<div class="sourceCode" id="cb453"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb453-1"><a href="debug.html#cb453-1" aria-hidden="true" tabindex="-1"></a>Browse[<span class="dv">1</span>]<span class="sc">&gt;</span> simbolos</span>
<span id="cb453-2"><a href="debug.html#cb453-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;B&quot; &quot;B&quot; &quot;0&quot;</span></span>
<span id="cb453-3"><a href="debug.html#cb453-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb453-4"><a href="debug.html#cb453-4" aria-hidden="true" tabindex="-1"></a>Browse[<span class="dv">1</span>]<span class="sc">&gt;</span> iguales</span>
<span id="cb453-5"><a href="debug.html#cb453-5" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] FALSE</span></span></code></pre></div>
<p>En segundo lugar, puede ejecutar el código y ver los mismos resultados que vería <code>puntuacion</code>. Por ejemplo, puede ejecutar las líneas restantes de la función <code>puntuacion</code> y ver si hacen algo inusual. Puede ejecutar estas líneas escribiéndolas en la línea de comandos, o puede usar los tres botones de navegación que ahora aparecen encima de la línea de comandos, como en la Figura <a href="debug.html#fig:browser-buttons">E.4</a>.</p>
<p>El primer botón, Next, ejecutará la siguiente línea de código en <code>puntuacion</code>. La línea resaltada en el panel de secuencias de comandos avanzará una línea para mostrarle su nueva ubicación en la función <code>puntuacion</code>. Si la siguiente línea comienza con un fragmento de código, como un bucle <code>for</code> o un árbol <code>if</code>, R ejecutará el fragmento completo y lo resaltará en la ventana del script.</p>
<p>El segundo botón, Continue, ejecutará todas las líneas restantes de <code>puntuacion</code> y luego saldrá del modo de navegador.</p>
<p>El tercer botón, Stop, saldrá del modo navegador sin ejecutar más líneas de <code>puntuacion</code>.</p>
<div class="figure"><span style="display:block;" id="fig:browser-buttons"></span>
<img src="images/hopr_ae04.png" alt="Puede navegar en modo navegador con los tres botones en la parte superior del panel de la consola." width="379" />
<p class="caption">
Figure E.4: Puede navegar en modo navegador con los tres botones en la parte superior del panel de la consola.
</p>
</div>
<p>Puede hacer lo mismo escribiendo los comandos <code>n</code>, <code>c</code> y <code>Q</code> en el indicador del navegador. Esto crea una molestia: ¿qué sucede si desea buscar un objeto llamado <code>n</code>, <code>c</code> o <code>Q</code>? Escribir el nombre del objeto no funcionará, R avanzará, continuará o saldrá del modo de navegador. En su lugar, tendrá que buscar estos objetos con los comandos <code>get("n")</code>, <code>get("c")</code> y <code>get("Q")</code>. <code>cont</code> es un sinónimo de <code>c</code> en modo navegador y <code>where</code> imprime la pila de llamadas, por lo que también tendrá que buscar estos objetos con <code>get</code>.</p>
<p>El modo de navegador puede ayudarlo a ver las cosas desde la perspectiva de sus funciones, pero no puede mostrarle dónde está el error. Sin embargo, el modo de navegador puede ayudarlo a probar hipótesis e investigar el comportamiento de la función. Esto suele ser todo lo que necesita para detectar y corregir un error. El modo de navegador es la herramienta de depuración básica de R. Cada una de las siguientes funciones solo proporciona una forma alternativa de ingresar al modo de navegador.</p>
<p>Una vez que solucione el error, debe volver a guardar su función por tercera vez, esta vez sin la llamada <code>browser()</code>. Siempre que la llamada del navegador esté allí, R se detendrá cada vez que usted, u otra función, llame a <code>puntuacion</code>.</p>
</div>
<div id="puntos-de-ruptura" class="section level2 hasAnchor" number="18.3">
<h2><span class="header-section-number">E.3</span> Puntos de Ruptura<a href="debug.html#puntos-de-ruptura" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Los puntos de ruptura de RStudio proporcionan una forma gráfica de agregar una declaración de <code>browser</code> a una función. Para usarlos, abra el script donde ha definido una función. Luego haga clic a la izquierda del número de línea de la línea de código en el cuerpo de la función donde le gustaría agregar la declaración de <code>browser</code>. Aparecerá un punto rojo hueco para mostrarle dónde se producirá el punto de ruptura. Luego ejecute el script haciendo clic en el botón Source en la parte superior del panel de Scripts. El punto hueco se convertirá en un punto rojo sólido para mostrar que la función tiene un punto de ruptura (vea la Figura <a href="debug.html#fig:break-point">E.5</a>).</p>
<p>R tratará el punto de interrupción como una declaración de <code>browser</code>, entrando en modo navegador cuando lo encuentre. Puede eliminar un punto de ruptura haciendo clic en el punto rojo. El punto desaparecerá y el punto de ruptura se eliminará.</p>
<div class="figure"><span style="display:block;" id="fig:break-point"></span>
<img src="images/hopr_ae05.png" alt="Los puntos de ruptura proporcionan el equivalente gráfico de una declaración de browser." width="872" />
<p class="caption">
Figure E.5: Los puntos de ruptura proporcionan el equivalente gráfico de una declaración de browser.
</p>
</div>
<p>Los puntos de ruptura y el <code>browser</code> brindan una excelente manera de depurar las funciones que ha definido. Pero, ¿qué sucede si desea depurar una función que ya existe en R? Puedes hacerlo con la función <code>debug</code>.</p>
</div>
<div id="debug-1" class="section level2 hasAnchor" number="18.4">
<h2><span class="header-section-number">E.4</span> debug<a href="debug.html#debug-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Puede “agregar” una llamada del navegador al comienzo de una función preexistente con <code>debug</code>. Para hacer esto, ejecute <code>debug</code> en la función. Por ejemplo, puede ejecutar <code>debug</code> en <code>sample</code> con:</p>
<div class="sourceCode" id="cb454"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb454-1"><a href="debug.html#cb454-1" aria-hidden="true" tabindex="-1"></a><span class="fu">debug</span>(sample)</span></code></pre></div>
<p>Después, R actuará como si hubiera una instrucción <code>browser()</code> en la primera línea de la función. Cada vez que R ejecute la función, ingresará inmediatamente al modo de navegador, lo que le permitirá recorrer la función una línea a la vez. R continuará comportándose de esta manera hasta que “elimine” la declaración del navegador con <code>undebug</code>:</p>
<div class="sourceCode" id="cb455"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb455-1"><a href="debug.html#cb455-1" aria-hidden="true" tabindex="-1"></a><span class="fu">undebug</span>(sample)</span></code></pre></div>
<p>Puede verificar si una función está en modo de “depuración” con <code>isdebugged</code>. Esto devolverá <code>TRUE</code> si ejecutó <code>debug</code> en la función pero aún no ha ejecutado <code>undebug</code>:</p>
<div class="sourceCode" id="cb456"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb456-1"><a href="debug.html#cb456-1" aria-hidden="true" tabindex="-1"></a><span class="fu">isdebugged</span>(sample)</span>
<span id="cb456-2"><a href="debug.html#cb456-2" aria-hidden="true" tabindex="-1"></a><span class="do">## FALSE</span></span></code></pre></div>
<p>Si todo esto es demasiado complicado, puede hacer lo que yo hago y usar <code>debugonce</code> en lugar de <code>debug</code>. R ingresará al modo de navegador la próxima vez que ejecute la función, pero automáticamente eliminará la depuración de la función después. Si necesita volver a navegar por la función, puede ejecutar <code>debugonce</code> en ella por segunda vez.</p>
<p>Puede recrear <code>debugonce</code> en RStudio siempre que ocurra un error. Aparecerá “Reejecutar con depuración” en el cuadro de error gris debajo de Show Traceback (Figura <a href="debug.html#fig:show-traceback">E.1</a>). Si hace clic en esta opción, RStudio volverá a ejecutar el comando como si primero hubiera ejecutado <code>debugonce</code> en él. R entrará inmediatamente en el modo de navegador, lo que le permitirá recorrer el código. El comportamiento del navegador solo ocurrirá en esta ejecución del código. No necesita preocuparse por llamar a <code>undebug</code> cuando haya terminado.</p>
</div>
<div id="trace" class="section level2 hasAnchor" number="18.5">
<h2><span class="header-section-number">E.5</span> trace<a href="debug.html#trace" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Puede agregar la declaración del navegador más adelante en la función, y no al principio, con <code>trace</code>. <code>trace</code> toma el nombre de una función como una cadena de caracteres y luego una expresión R para insertarla en la función. También puede proporcionar un argumento <code>at</code> que le diga a <code>trace</code> en qué línea de la función colocar la expresión. Entonces, para insertar una llamada del navegador en la cuarta línea de <code>sample</code>, ejecutaría:</p>
<div class="sourceCode" id="cb457"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb457-1"><a href="debug.html#cb457-1" aria-hidden="true" tabindex="-1"></a><span class="fu">trace</span>(<span class="st">&quot;sample&quot;</span>, browser, <span class="at">at =</span> <span class="dv">4</span>)</span></code></pre></div>
<p>Puede usar <code>trace</code> para insertar otras funciones de R (no solo <code>browser</code>) en una función, pero es posible que deba pensar en una razón inteligente para hacerlo. También puede ejecutar <code>trace</code> en una función sin insertar ningún código nuevo. R imprimirá <code>trace:&lt;the function&gt;</code> en la línea de comando cada vez que R ejecute la función. Esta es una excelente manera de probar una afirmación que hice en <a href="s3.html#s3">S3</a>, que R llama a <code>print</code> cada vez que muestra algo en la línea de comando:</p>
<div class="sourceCode" id="cb458"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb458-1"><a href="debug.html#cb458-1" aria-hidden="true" tabindex="-1"></a><span class="fu">trace</span>(print)</span>
<span id="cb458-2"><a href="debug.html#cb458-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb458-3"><a href="debug.html#cb458-3" aria-hidden="true" tabindex="-1"></a>primera</span>
<span id="cb458-4"><a href="debug.html#cb458-4" aria-hidden="true" tabindex="-1"></a><span class="do">## trace: print(function () segunda())</span></span>
<span id="cb458-5"><a href="debug.html#cb458-5" aria-hidden="true" tabindex="-1"></a><span class="do">## function() segunda()</span></span>
<span id="cb458-6"><a href="debug.html#cb458-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb458-7"><a href="debug.html#cb458-7" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(mazo)</span>
<span id="cb458-8"><a href="debug.html#cb458-8" aria-hidden="true" tabindex="-1"></a><span class="do">## trace: print</span></span>
<span id="cb458-9"><a href="debug.html#cb458-9" aria-hidden="true" tabindex="-1"></a><span class="do">##    cara  palo valor</span></span>
<span id="cb458-10"><a href="debug.html#cb458-10" aria-hidden="true" tabindex="-1"></a><span class="do">## 1   rey picas    13</span></span>
<span id="cb458-11"><a href="debug.html#cb458-11" aria-hidden="true" tabindex="-1"></a><span class="do">## 2 reina picas    12</span></span>
<span id="cb458-12"><a href="debug.html#cb458-12" aria-hidden="true" tabindex="-1"></a><span class="do">## 3  jota picas    11</span></span>
<span id="cb458-13"><a href="debug.html#cb458-13" aria-hidden="true" tabindex="-1"></a><span class="do">## 4  diez picas    10</span></span>
<span id="cb458-14"><a href="debug.html#cb458-14" aria-hidden="true" tabindex="-1"></a><span class="do">## 5 nueve picas     9</span></span>
<span id="cb458-15"><a href="debug.html#cb458-15" aria-hidden="true" tabindex="-1"></a><span class="do">## 6  ocho picas     8</span></span></code></pre></div>
<p>Puede revertir una función a la normalidad después de llamar a trace con <code>untrace</code>:</p>
<div class="sourceCode" id="cb459"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb459-1"><a href="debug.html#cb459-1" aria-hidden="true" tabindex="-1"></a><span class="fu">untrace</span>(sample)</span>
<span id="cb459-2"><a href="debug.html#cb459-2" aria-hidden="true" tabindex="-1"></a><span class="fu">untrace</span>(print)</span></code></pre></div>
</div>
<div id="recover" class="section level2 hasAnchor" number="18.6">
<h2><span class="header-section-number">E.6</span> recover<a href="debug.html#recover" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>La función <code>recover</code> proporciona una opción final para la depuración. Combina la pila de llamadas de <code>traceback</code> con el modo de navegador de <code>browser</code>. Puedes usar <code>recover</code> como <code>browser</code>, insertándolo directamente en el cuerpo de una función. Demostremos <code>recover</code> con la función <code>quinta</code>:</p>
<div class="sourceCode" id="cb460"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb460-1"><a href="debug.html#cb460-1" aria-hidden="true" tabindex="-1"></a>quinta <span class="ot">&lt;-</span> <span class="cf">function</span>() <span class="fu">recover</span>()</span></code></pre></div>
<p>Cuando R ejecuta <code>recover</code>, hará una pausa y mostrará la pila de llamadas, pero eso no es todo. R te da la opción de abrir un modo navegador en <em>cualquiera</em> de las funciones que aparecen en la pila de llamadas. De manera molesta, la pila de llamadas se mostrará al revés en comparación con <code>traceback</code>. La función más reciente estará en la parte inferior y la función original estará en la parte superior:</p>
<div class="sourceCode" id="cb461"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb461-1"><a href="debug.html#cb461-1" aria-hidden="true" tabindex="-1"></a><span class="fu">primera</span>()</span>
<span id="cb461-2"><a href="debug.html#cb461-2" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb461-3"><a href="debug.html#cb461-3" aria-hidden="true" tabindex="-1"></a><span class="do">## Enter a frame number, or 0 to exit   </span></span>
<span id="cb461-4"><a href="debug.html#cb461-4" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb461-5"><a href="debug.html#cb461-5" aria-hidden="true" tabindex="-1"></a><span class="do">## 1: primera()</span></span>
<span id="cb461-6"><a href="debug.html#cb461-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 2: #1: segunda()</span></span>
<span id="cb461-7"><a href="debug.html#cb461-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 3: #1: tercera()</span></span>
<span id="cb461-8"><a href="debug.html#cb461-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 4: #1: cuarta()</span></span>
<span id="cb461-9"><a href="debug.html#cb461-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 5: #1: quinta()</span></span></code></pre></div>
<p>Para entrar en un modo de navegador, escriba el número junto a la función en cuyo entorno de tiempo de ejecución le gustaría navegar. Si no desea navegar por ninguna de las funciones, escriba <code>0</code>:</p>
<div class="sourceCode" id="cb462"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb462-1"><a href="debug.html#cb462-1" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span></span>
<span id="cb462-2"><a href="debug.html#cb462-2" aria-hidden="true" tabindex="-1"></a><span class="do">## Selection: 3</span></span>
<span id="cb462-3"><a href="debug.html#cb462-3" aria-hidden="true" tabindex="-1"></a><span class="do">## Called from: cuarta()</span></span>
<span id="cb462-4"><a href="debug.html#cb462-4" aria-hidden="true" tabindex="-1"></a><span class="do">## Browse[1]&gt; </span></span></code></pre></div>
<p>A continuación, puede proceder con normalidad. <code>recover</code> le brinda la oportunidad de inspeccionar variables arriba y abajo de su pila de llamadas y es una herramienta poderosa para descubrir errores. Sin embargo, agregar <code>recover</code> al cuerpo de una función R puede ser engorroso. La mayoría de los usuarios de R lo usan como una opción global para manejar errores.</p>
<p>Si ejecuta el siguiente código, R llamará automáticamente a <code>recover()</code> cada vez que ocurra un error:</p>
<div class="sourceCode" id="cb463"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb463-1"><a href="debug.html#cb463-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">error =</span> recover)</span></code></pre></div>
<p>Este comportamiento durará hasta que cierre su sesión de R, o invierta el comportamiento llamando:</p>
<div class="sourceCode" id="cb464"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb464-1"><a href="debug.html#cb464-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">error =</span> <span class="cn">NULL</span>)</span></code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="dataio.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/davidrsch/hopres/edit/main/a5-debug.rmd",
"text": "Editar"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
